var T=Object.defineProperty;var O=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var $=(f,r,F)=>r in f?T(f,r,{enumerable:!0,configurable:!0,writable:!0,value:F}):f[r]=F,x=(f,r)=>{for(var F in r||(r={}))P.call(r,F)&&$(f,F,r[F]);if(O)for(var F of O(r))j.call(r,F)&&$(f,F,r[F]);return f};import{d as q,r as D,P as R,_ as W,a3 as z,D as G,$ as H,a0 as Q,C as X,I as Y,J as Z,K as uu,o as B,q as y,f as o,w as a,e as h,L as K,F as g,a1 as S,s as A,g as i,h as E}from"./vendor.7622e4b8.js";import{U as L,t as eu}from"./index.esm.min.c6bc6a12.js";import{b,d as tu,c as w}from"./artifact.56a90094.js";/* empty css                 */import{_ as lu}from"./PrismEditor.9c1b52e6.js";const ou=i("ul",null,[i("li",null,[E(" \u672C\u7B97\u6CD5\u8BA1\u7B97\u7684\u662F\uFF1A\u968F\u673A\u7ED9\u5B9An\u4E2A\uFF08\u5373\u53C2\u6570\u4E2D\u7684\u201C "),i("b",null,"\u603B\u6570"),E(" \u201D\uFF09\u65E0\u5957\u88C5\u5723\u9057\u7269\uFF0C\u6309\u7167 "),i("b",null,"\u5F3A\u5316\u7B56\u7565"),E(" \u51B3\u5B9A\u6BCF\u4E2A\u5723\u9057\u7269\u662F\u5426\u62C9\u6EE1\u6216\u4E22\u5F03\uFF0C\u6700\u540E\u8F93\u51FA "),i("b",null,"\u4E3B\u8BCD\u6761"),E(" \u6B63\u786E\u4E14 "),i("b",null,"\u603B\u8BCD\u6761\u6570"),E(" \u6700\u9AD8\u7684\u4E00\u5957\u5723\u9057\u7269\u7684\u526F\u8BCD\u6761\u9762\u677F\u5206\u5E03 \uFF08\u201C\u8BCD\u6761\u6570\u201D\u662F\u5404\u526F\u8BCD\u6761\u4E2A\u6570\u6839\u636E "),i("b",null,"\u8BCD\u6761\u6743\u91CD"),E(" \u8BA1\u7B97\u7684\u52A0\u6743\u548C\uFF09 ")]),i("li",null,"\u672C\u7B97\u6CD5\u662F\u5E38\u6570\u65F6\u95F4\u786E\u5B9A\u6027\u7B97\u6CD5\uFF0C\u4F46\u8F93\u51FA\u7684\u5206\u5E03\u548C\u771F\u5B9E\u5206\u5E03\u5B58\u5728\u7EC6\u5FAE\u533A\u522B\uFF0C\u8BEF\u5DEE\u6765\u6E90\u6709\uFF1A\u5F31\u76F8\u5173\u6027\u89E3\u8026\u3001\u6D6E\u70B9\u6570\u53D6\u6574"),i("li",null,"\u8BCD\u6761\uFF1Ahp=\u5C0F\u751F\u547D\uFF0Chpp=\u5927\u751F\u547D\uFF0Catk=\u5C0F\u653B\u51FB\uFF0Catkp=\u5927\u653B\u51FB\uFF0Cdef=\u5C0F\u9632\u5FA1\uFF0Cdefp=\u5927\u9632\u5FA1\uFF0Cem=\u7CBE\u901A\uFF0Cer=\u5145\u80FD\uFF0Ccr=\u66B4\u51FB\uFF0Ccd=\u7206\u4F24"),i("li",null,"\u90E8\u4F4D\uFF1Aflower=\u82B1\uFF0Cplume=\u7FBD\uFF0Csands=\u6C99\uFF0Cgoblet=\u676F\uFF0Ccirclet=\u5934")],-1),au=E("\u8BA1\u7B97"),nu=E("\u91CD\u7F6E"),ru=i("p",{class:"info"},"\u70B9\u51FB\u56FE\u4F8B\u53EF\u4EE5\u9690\u85CF\u90E8\u5206\u6570\u636E",-1),su=i("p",{class:"info"},"1\u8BCD\u6761\u4E3A\u5355\u6B21\u5E73\u5747\u63D0\u5347\u91CF\uFF08\u4F8B\u5982\u66B4\u51FB\u73873.3%\uFF09",-1),Bu=q({setup(f){const r={sands:["hpp","atkp","defp","em","er"],goblet:["hpp","atkp","defp","em","db"],circlet:["hpp","atkp","defp","em","hb","cr","cd"]},F=["flower","plume","sands","goblet","circlet"],U={weight:'{"hp": 0,"hpp": 0,"atk": 0,"atkp": 1,"def": 0,"defp": 0,"em": 0,"er": 0,"cr": 1,"cd": 1}',flower:"hp",plume:"atk",sands:"atkp",goblet:"db",circlet:"cr",accept:`/* \u7528 Javascript \u63CF\u8FF0\u60A8\u7684\u5F3A\u5316\u7B56\u7565
\u8F93\u5165\uFF1A
    slot: string // \u8FD9\u662F\u5723\u9057\u7269\u6240\u5728\u90E8\u4F4D
    minors: string[] // \u8FD9\u662F\u4F60\u7684\u521D\u59CB\u8BCD\u6761\u5217\u8868\uFF0C\u957F\u5EA6\u4E3A3\u62164
    minors_4: string[] // \u8FD9\u662F+4\u540E\u7684\u8BCD\u6761\u5217\u8868\uFF0C\u957F\u5EA6\u4E3A4

\u8F93\u51FA\uFF1A
    boolean // true \u8868\u793A\u9009\u62E9\u5F3A\u5316\uFF0Cfalse \u8868\u793A\u4E22\u5F03

\u4F8B\u5982\uFF0C\u5982\u679C\u662F\u82B1/\u7FBD/\u6C99\uFF0C\u90A3\u4E48\u53EA\u5F3A\u5316\u521D\u59CB\u542B\u53CC\u66B4\u7684\uFF1B\u5982\u679C\u662F\u676F/\u51A0\uFF0C\u90A3\u4E48\u81F3\u5C11\u5F97\u67091\u66B4\u62162\u653B/\u7CBE/\u5145\u3002\u8FD9\u4E2A\u7B56\u7565\u53EF\u4EE5\u8FD9\u6837\u5199\uFF1A

if (['flower', 'plume', 'sands'].includes(slot)) {
    let cnt_crit = 0
    for (let key of minors)
        if (['cr', 'cd'].includes(key)) cnt_crit++
    return cnt_crit == 2
} else {
    let cnt_crit = 0, cnt_eff = 0
    for (let key of minors) {
        if (['cr', 'cd'].includes(key)) cnt_crit++
        else if (['atkp', 'em', 'er'].includes(key)) cnt_eff++
    }
    return cnt_crit >= 1 || cnt_eff >= 2
}
*/
return true // \u65E0\u8BBA\u4EC0\u4E48\u5723\u9057\u7269\u90FD\u5F3A\u5316`,count:5},e=D(x({},U)),J=()=>{e.value=x({},U)};R(()=>{let u={};return F.forEach(t=>{let d=e.value[t];return d=="db"&&(d="pyroDB"),u[t]=.2*b.mainDistr[t][d]}),u});const k=D(!1),m=(u,t)=>{let d=t*b.minorStat[u].v;return["hp","atk","def","em"].includes(u)?d.toFixed(0):d.toFixed(1)+"%"},I=D({tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:"bottom"},xAxis:{type:"value",name:"\u6982\u7387",min:0,max:1,interval:.1,minorTick:{show:!0},minorSplitLine:{show:!0}},yAxis:[{type:"value",name:"\u8BCD\u6761\u6570",min:0,interval:1,minorTick:{show:!0},minorSplitLine:{show:!0}}],series:[{name:"\u751F\u547D\u503C",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("hp",u)}},{name:"\u653B\u51FB\u529B",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("atk",u)}},{name:"\u9632\u5FA1\u529B",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("def",u)}},{name:"\u751F\u547D\u503C%",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("hpp",u)}},{name:"\u653B\u51FB\u529B%",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("atkp",u)}},{name:"\u9632\u5FA1\u529B%",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("defp",u)}},{name:"\u5143\u7D20\u7CBE\u901A",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("em",u)}},{name:"\u5143\u7D20\u5145\u80FD",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("er",u)}},{name:"\u66B4\u51FB\u7387",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("cr",u)}},{name:"\u66B4\u51FB\u4F24\u5BB3",type:"line",symbol:"none",smooth:!0,tooltip:{valueFormatter:u=>m("cd",u)}}]}),N=D({tooltip:{trigger:"item",formatter:u=>u.data.name+": "+u.data.stat},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"\u526F\u8BCD\u6761\u671F\u671B\u5206\u5E03",type:"pie",itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{formatter:u=>`${u.data.name} ${u.data.stat} (${u.data.value.toFixed(1)})`,overflow:"breakAll"}}]}),M=()=>{let u={flower:e.value.flower,plume:e.value.plume,sands:e.value.sands,goblet:e.value.goblet=="db"?"pyroDB":e.value.goblet,circlet:e.value.circlet},t=JSON.parse(e.value.weight),d=Function("slot","minors","minors_4",e.value.accept),C=tu(u,t,d,e.value.count),p=[];for(let n of b.minorKeys){let c=0;for(let s=0;s<C.minor_avg[n].length;++s)c+=C.pdf[s]*C.minor_avg[n][s];p.push({value:c/8.5,name:w.minor[n],stat:m(n,c/10)})}p.sort((n,c)=>c.value-n.value),N.value.series[0].data=p;let v=eu(C.pdf);for(let n=0;n<b.minorKeys.length;++n){let c=b.minorKeys[n],s=[];for(let _=0;_<C.minor_avg[c].length;++_)(s.length==0||v[_]>s[s.length-1][0])&&s.push([v[_],C.minor_avg[c][_]/8.5]);I.value.series[n].data=s}k.value=!0};return(u,t)=>{const d=W,C=z,p=G,v=H,n=Q,c=X,s=Y,_=Z,V=uu;return B(),y(g,null,[o(d,{title:"\u8BF4\u660E",type:"info",closable:!1},{default:a(()=>[ou]),_:1}),o(V,{header:"\u53C2\u6570"},{default:a(()=>[o(_,{model:e.value,"status-icon":"","label-width":"auto"},{default:a(()=>[o(p,{label:"\u8BA1\u5206\u6743\u91CD",prop:"weight"},{default:a(()=>[o(C,{modelValue:e.value.weight,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.weight=l),type:"textarea"},null,8,["modelValue"])]),_:1}),o(p,{label:"\u65F6\u4E4B\u6C99",prop:"sands"},{default:a(()=>[o(n,{modelValue:e.value.sands,"onUpdate:modelValue":t[1]||(t[1]=l=>e.value.sands=l),placeholder:"\u9009\u62E9"},{default:a(()=>[(B(!0),y(g,null,S(r.sands,l=>(B(),h(v,{label:A(w).main[l],value:l},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"\u7A7A\u4E4B\u676F",prop:"goblet"},{default:a(()=>[o(n,{modelValue:e.value.goblet,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.goblet=l),placeholder:"\u9009\u62E9"},{default:a(()=>[(B(!0),y(g,null,S(r.goblet,l=>(B(),h(v,{label:A(w).main[l],value:l},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"\u7406\u4E4B\u51A0",prop:"circlet"},{default:a(()=>[o(n,{modelValue:e.value.circlet,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.circlet=l),placeholder:"\u9009\u62E9"},{default:a(()=>[(B(!0),y(g,null,S(r.circlet,l=>(B(),h(v,{label:A(w).main[l],value:l},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"\u5F3A\u5316\u7B56\u7565",prop:"accept"},{default:a(()=>[o(lu,{modelValue:e.value.accept,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.accept=l)},null,8,["modelValue"])]),_:1}),o(p,{label:"\u603B\u6570",prop:"count"},{default:a(()=>[o(c,{modelValue:e.value.count,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.count=l),min:1},null,8,["modelValue"])]),_:1}),o(p,null,{default:a(()=>[o(s,{type:"primary",onClick:M},{default:a(()=>[au]),_:1}),o(s,{onClick:J},{default:a(()=>[nu]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),k.value?(B(),h(V,{key:0,header:"\u526F\u8BCD\u6761\u671F\u671B\u9762\u677F"},{default:a(()=>[o(A(L),{style:{height:"400px"},option:N.value},null,8,["option"])]),_:1})):K("",!0),k.value?(B(),h(V,{key:1,header:"\u526F\u8BCD\u6761\u9762\u677F\u5206\u5E03"},{default:a(()=>[o(A(L),{style:{height:"900px"},option:I.value},null,8,["option"]),ru,su]),_:1})):K("",!0)],64)}}});export{Bu as default};
