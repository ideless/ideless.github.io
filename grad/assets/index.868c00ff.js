import{d as P,c as g,r as $,o as k,a as C,b as t,u as F,t as V,n as I,e as f,w,f as S,v as K,F as L,g as O,T as Y,p as G,h as J,i as H,j as Q,C as X,k as x,l as Z}from"./vendor.ccecb246.js";const ee=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&d(p)}).observe(document,{childList:!0,subtree:!0});function e(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerpolicy&&(o.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?o.credentials="include":u.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(u){if(u.ep)return;u.ep=!0;const o=e(u);fetch(u.href,o)}};ee();function A(a,s){return parseFloat(a.toFixed(s))}var D={types:["flower","plume","sands","goblet","circlet"],minor:{keys:["hp","atk","def","hpp","atkp","defp","em","er","cr","cd"],distr:[6,6,6,4,4,4,4,4,3,3],vals:{hp:298.75,atk:19.45,def:23.15,hpp:.0583,atkp:.0583,defp:.0729,em:23.31,er:.0648,cr:.0389,cd:.0777}},main:{flower:{hp:{p:1,v:4780}},plume:{atk:{p:1,v:311}},sands:{hpp:{p:8/30,v:.466},atkp:{p:8/30,v:.466},defp:{p:8/30,v:.583},em:{p:3/30,v:186.5},er:{p:3/30,v:.518}},goblet:{hpp:{p:17/80,v:.466},atkp:{p:17/80,v:.466},defp:{p:16/80,v:.583},pyroDB:{p:4/80,v:.466},hydroDB:{p:4/80,v:.466},electroDB:{p:4/80,v:.466},anemoDB:{p:4/80,v:.466},cryoDB:{p:4/80,v:.466},geoDB:{p:4/80,v:.466},physicalDB:{p:4/80,v:.583},em:{p:2/80,v:186.5}},circlet:{hpp:{p:11/50,v:.466},atkp:{p:11/50,v:.466},defp:{p:11/50,v:.583},cr:{p:5/50,v:.311},cd:{p:5/50,v:.622},hb:{p:5/50,v:.359},em:{p:2/50,v:186.5}}}};function T(a,s,e){let d=a[s];a[s]=a[e],a[e]=d}function N(a,s,e){if(typeof a=="number")return Math.floor(Math.random()*a);if(s!==void 0&&e!==void 0){let d=[...a],u=[...e],o=0;for(let p of u)o+=p;for(let p=0;p<s;++p){let _=Math.random()*o,i=0;for(let c=p;c<d.length;++c)if(i+=u[c],_<=i){o-=u[c],T(d,p,c),T(u,p,c);break}}return d.slice(0,s)}else{let d=Math.floor(Math.random()*a.length);return a[d]}}function j(a){let s=N(4)*.1+.7;a.value+=s*D.minor.vals[a.key]}function ue(a){let s=[],e=N(D.minor.keys,5,D.minor.distr).filter(u=>u!==a).slice(0,4);for(let u of e){let o={key:u,value:0};j(o),s.push(o)}let d=Math.random()<.2?5:4;for(let u=0;u<d;++u){let o=N(4);j(s[o])}return s}function te(a,s,e){let d=0;for(let u of a)u.key=="hp"?d+=e.hpp*u.value/s.baseHP/D.minor.vals.hpp:u.key=="atk"?d+=e.atkp*u.value/s.baseATK/D.minor.vals.atkp:u.key=="def"?d+=e.defp*u.value/s.baseDEF/D.minor.vals.defp:d+=e[u.key]*u.value/D.minor.vals[u.key];return d/.85}function le(a,s,e,d){let u={flower:0,plume:0,sands:0,goblet:0,circlet:0},o=0,p=[o];for(let _=0;_<d;++_){let i=N(D.types),c=s[i],B=D.main[i][c].p;if(Math.random()>B){p.push(o);continue}let v=ue(c),r=te(v,a,e);r>u[i]&&(o+=r-u[i],u[i]=r),p.push(o)}return p}function R(a){return a*a}function ae(a,s,e,d,u){let o=[];for(let c=0;c<u;++c){let B=le(a,s,e,d);o.push(B)}let p=[],_=[],i=[];for(let c=0;c<d;++c){let B=0,v=0;for(let y=0;y<u;++y)B+=o[y][c],v+=R(o[y][c]);let r=B/u,h=Math.sqrt((v-R(B)/u)/(u-1));p.push(r-h),_.push(r),i.push(r+h)}return{clb:p,avg:_,cub:i}}const M=1.065;function se(a,s,e,d,u,o){let p=Math.floor(d/20*M),{clb:_,avg:i,cub:c}=ae(a,s,e,p,u),B=[],v=[],r=null;for(let E=0;E<i.length;++E)B.push((E*20/M).toFixed(0)),v.push(o),i[E]>=o&&r===null&&(r=E);let h="",y="";if(r===null)h="\u5F53\u524D\u7EC3\u5EA6\u76F8\u5F53\u4E8E > "+Math.ceil(d/180)+"\u5929\u7684\u81EA\u56DE\u4F53",y="\u6BD5\u4E1A";else if(r+1>=i.length)h="\u5F53\u524D\u7EC3\u5EA6 \u2248 "+Math.ceil(r/(9*M))+"\u5929\u7684\u81EA\u56DE\u4F53",y="\u6BD5\u4E1A";else{let E=Math.ceil(r/(9*M));h="\u5F53\u524D\u7EC3\u5EA6 \u2248 "+E+"\u5929\u7684\u81EA\u56DE\u4F53",h+="\uFF0C\u8DDD\u79BB\u6BD5\u4E1A\u8FD8\u5DEE"+A(i[i.length-1]-o,1)+"\u8BCD\u6761",h+="\uFF0C\u77ED\u671F\u63D0\u5347\u7387\u7EA6\u4E3A"+A((i[r+1]-i[r])/M,3)+"\u8BCD\u6761/20\u4F53",y=E>=18?"\u5C0F\u6BD5\u4E1A":"\u4E3B\u8BCD\u6761\u6BD5\u4E1A\u4E5F\u7B97\u6BD5\u4E1A"}return{config:{type:"line",data:{labels:B,datasets:[{data:_,borderWidth:1,fill:!1,borderColor:"transparent"},{label:"\u6210\u957F\u671F\u671B",data:i,borderWidth:1,borderColor:"#00768a",fill:!1},{label:"\u6807\u51C6\u5DEE",data:c,borderWidth:1,fill:"-2",backgroundColor:"#00800020",borderColor:"transparent"},{label:"\u5F53\u524D\u8BCD\u6761\u6570",data:v,borderColor:"red",borderWidth:1}]},options:{plugins:{legend:{labels:{filter:function(E){return!!E.text}}}},elements:{point:{radius:0}},scales:{x:{title:{display:!0,text:"\u4F53\u529B"}}},maintainAspectRatio:!1}},comment:h,level:y}}var oe="assets/arrow.svg";var W=(a,s)=>{const e=a.__vccOpts||a;for(const[d,u]of s)e[d]=u;return e};const q=a=>(G("data-v-02b652fd"),a=a(),J(),a),ne={key:0,class:"basic-input"},de=["value"],ie={key:1,class:"percentage-input"},re=["value"],pe=q(()=>t("span",{class:"split"},null,-1)),ce=q(()=>t("span",{class:"unit"},"%",-1)),me=["onClick"],ve={class:"item-text"},fe={key:3},Fe=P({props:{type:null,modelValue:null,items:null},emits:["update:modelValue"],setup(a,{emit:s}){const e=a,d=g(()=>e.type=="percentage"?A(e.modelValue*100,2):e.modelValue),u=v=>{let r=parseFloat(v.srcElement.value);r=e.type=="percentage"?r/100:r,s("update:modelValue",r)},o=g(()=>{if(e.items){for(let v of e.items)if(v.key==e.modelValue)return v.text}return""}),p=v=>{s("update:modelValue",v)},_=v=>{v.target.select()},i=$(!1),c=$(!1),B=v=>{i.value?i.value=!1:(c.value=v.clientY+200>window.innerHeight,i.value=!0)};return(v,r)=>a.type=="basic"?(k(),C("div",ne,[t("input",{value:a.modelValue,onChange:u,onFocus:_},null,40,de)])):a.type=="percentage"?(k(),C("div",ie,[t("input",{value:F(d),onChange:u,onFocus:_},null,40,re),pe,ce])):a.type=="enum"&&a.items?(k(),C("div",{key:2,class:"enum-input",onClick:B,onFocusout:r[0]||(r[0]=h=>i.value=!1),tabindex:"-1"},[t("span",null,V(F(o)),1),t("img",{class:I({showmenu:i.value}),src:oe,width:"12"},null,2),f(Y,{name:"pop"},{default:w(()=>[S(t("div",{class:I({menu:!0,menutop:c.value})},[(k(!0),C(L,null,O(a.items,h=>(k(),C("div",{class:"menu-item",key:h.key,onClick:y=>p(h.key)},[t("div",ve,V(h.text),1)],8,me))),128))],2),[[K,i.value]])]),_:1})],32)):(k(),C("div",fe,"?"))}});var b=W(Fe,[["__scopeId","data-v-02b652fd"]]);const he={class:"blank"},_e={class:"fill"},Be=P({props:{modelValue:null},emits:["update:modelValue"],setup(a,{emit:s}){const e=a,d=g(()=>({"value-btn":!0,one:e.modelValue==1,zero:e.modelValue==0})),u=()=>{e.modelValue==0?s("update:modelValue",.5):e.modelValue==.5?s("update:modelValue",1):s("update:modelValue",0)};return(o,p)=>(k(),C("div",{class:I(F(d)),onClick:u},[t("span",he,[H(o.$slots,"default",{},void 0,!0)]),t("span",_e,[H(o.$slots,"default",{},void 0,!0)])],2))}});var U=W(Be,[["__scopeId","data-v-12831f9a"]]);const ye=t("div",{class:"subtitle"},"\u89D2\u8272\u9762\u677F\u767D\u5B57",-1),be={class:"param-row"},Ee=t("span",null,"\u751F\u547D\u503C\uFF1A",-1),Ve={class:"param-row"},ge=t("span",null,"\u653B\u51FB\u529B\uFF1A",-1),Ae={class:"param-row"},De=t("span",null,"\u9632\u5FA1\u529B\uFF1A",-1),ke=t("div",{class:"subtitle"},"\u5723\u9057\u7269\u4E3B\u8BCD\u6761",-1),Ce={class:"param-row"},we=t("span",null,"\u6C99\uFF1A",-1),xe={class:"param-row"},Ue=t("span",null,"\u676F\uFF1A",-1),$e={class:"param-row"},Me=t("span",null,"\u5934\uFF1A",-1),Ne=t("div",{class:"subtitle"},"\u5723\u9057\u7269\u9762\u677F",-1),Pe={class:"param-row"},Ie=t("span",null,"+\u751F\u547D\u503C\uFF1A",-1),Se={class:"param-row"},Ke=t("span",null,"+\u653B\u51FB\u529B\uFF1A",-1),Le={class:"param-row"},He=t("span",null,"+\u9632\u5FA1\u529B\uFF1A",-1),Te={class:"param-row"},je=t("span",null,"+\u7CBE\u901A\uFF1A",-1),Re={class:"param-row"},We=t("span",null,"+\u66B4\u51FB\u7387\uFF1A",-1),qe={class:"param-row"},ze=t("span",null,"+\u66B4\u51FB\u4F24\u5BB3\uFF1A",-1),Oe={class:"param-row"},Ye=t("span",null,"+\u5145\u80FD\uFF1A",-1),Ge=t("div",{class:"subtitle"},"\u6709\u6548\u8BCD\u6761",-1),Je={class:"btns"},Qe=x("\u751F"),Xe=x("\u653B"),Ze=x("\u9632"),eu=x("\u7CBE"),uu=x("\u66B4"),tu=x("\u7206"),lu=x("\u5145"),au=t("div",{class:"split"},null,-1),su={class:"result"},ou={class:"affix"},nu={class:"affix"},du={class:"affix"},iu={class:"affix"},ru={class:"affix"},pu={class:"affix"},cu={class:"affix"},mu={class:"result"},vu=t("span",null,"\u5F53\u524D\u8BCD\u6761\u6570\uFF1A",-1),fu={class:"result"},Fu={class:"level"},hu=Q('<div>\u5723\u9057\u7269-\u4F53\u529B\u6210\u957F\u66F2\u7EBF</div><div class="comment">\u7EFF\u8272\u533A\u57DF\u8868\u793A\u6807\u51C6\u5DEE\uFF0C\u5728\u6B63\u6001\u5206\u5E03\u5047\u8BBE\u4E0B\uFF0C\u5B9E\u9645\u8BCD\u6761\u6570\u843D\u5728\u7EFF\u8272\u533A\u57DF\u7684\u6982\u7387\u4E3A68.2%</div><div class="chart-container"><canvas id="grad-chart"></canvas></div><div class="comment">\u5C0F\u6BD5\u4E1A\uFF1A18\u5929\u81EA\u56DE\u4F53\uFF0C\u6BD5\u4E1A\uFF1A2\u4E07\u4F53\u529B</div><div class="comment">\u5723\u9057\u7269-\u4F53\u529B\u66F2\u7EBF\u7684\u8BA1\u7B97\u65B9\u5F0F\u662F\u968F\u673A\u751F\u6210\u6EE1\u7EA7\u5723\u9057\u7269\uFF0C\u5982\u679C\u4E3B\u8BCD\u6761\u6B63\u786E\u5219\u5C1D\u8BD5\u914D\u88C5\u3002\u7531\u4E8E\u5B9E\u9645\u4E2D\u4E0D\u4F1A\u628A\u6BCF\u4E2A\u5723\u9057\u7269\u90FD\u5347\u6EE1\u7EA7\u6765\u51B3\u5B9A\u662F\u5426\u63A5\u53D7\uFF0C\u56E0\u6B64\u8FD9\u91CC\u7684\u7EC3\u5EA6\u8BC4\u4F30\u6BD4\u8F83\u4FDD\u5B88</div>',5),_u=P({setup(a){const s={sands:[{key:"hpp",text:"\u751F\u547D\u503C%"},{key:"atkp",text:"\u653B\u51FB\u529B%"},{key:"defp",text:"\u9632\u5FA1\u529B%"},{key:"er",text:"\u5145\u80FD"},{key:"em",text:"\u7CBE\u901A"}],goblet:[{key:"hpp",text:"\u751F\u547D\u503C%"},{key:"atkp",text:"\u653B\u51FB\u529B%"},{key:"defp",text:"\u9632\u5FA1\u529B%"},{key:"pyroDB",text:"\u4F24\u5BB3\u52A0\u6210"},{key:"em",text:"\u7CBE\u901A"}],circlet:[{key:"hpp",text:"\u751F\u547D\u503C%"},{key:"atkp",text:"\u653B\u51FB\u529B%"},{key:"defp",text:"\u9632\u5FA1\u529B%"},{key:"cr",text:"\u66B4\u51FB\u7387"},{key:"cd",text:"\u66B4\u51FB\u4F24\u5BB3"},{key:"hb",text:"\u6CBB\u7597\u52A0\u6210"},{key:"em",text:"\u7CBE\u901A"}]},e=$({base:{baseHP:9865,baseATK:673,baseDEF:626},mains:{flower:"hp",plume:"atk",sands:"atkp",goblet:"pyroDB",circlet:"cr"},art:{hp:6652,atk:712,def:233,em:138,cr:.447,cd:.303,er:.369},weights:{hpp:0,atkp:1,defp:0,cr:1,cd:1,em:0,er:0}}),d=g(()=>{let m=(e.value.art.hp-4780)/e.value.base.baseHP;return Array("sands","goblet","circlet").forEach(l=>{e.value.mains[l]=="hpp"&&(m-=.466)}),m/(.0583*.85)}),u=g(()=>{let m=(e.value.art.atk-311)/e.value.base.baseATK;return Array("sands","goblet","circlet").forEach(l=>{e.value.mains[l]=="atkp"&&(m-=.466)}),m/(.0583*.85)}),o=g(()=>{let m=e.value.art.def/e.value.base.baseDEF;return Array("sands","goblet","circlet").forEach(l=>{e.value.mains[l]=="defp"&&(m-=.466)}),m/(.0729*.85)}),p=g(()=>{let m=e.value.art.em;return Array("sands","goblet","circlet").forEach(l=>{e.value.mains[l]=="em"&&(m-=186.5)}),m/(23.31*.85)}),_=g(()=>{let m=e.value.art.cr;return e.value.mains.circlet=="cr"&&(m-=.311),m/(.0389*.85)}),i=g(()=>{let m=e.value.art.cd;return e.value.mains.circlet=="cd"&&(m-=.622),m/(.0777*.85)}),c=g(()=>{let m=e.value.art.er;return e.value.mains.sands=="er"&&(m-=.518),m/(.0648*.85)}),B=g(()=>e.value.weights.hpp*d.value+e.value.weights.atkp*u.value+e.value.weights.defp*o.value+e.value.weights.em*p.value+e.value.weights.cr*_.value+e.value.weights.cd*i.value+e.value.weights.er*c.value),v=$(!1),r=$(""),h=$("");let y;const E=()=>{y&&y.destroy();let m=document.getElementById("grad-chart"),{config:l,comment:n,level:z}=se(e.value.base,e.value.mains,e.value.weights,2e4,300,B.value);r.value=n,h.value=z,y=new X(m,l),v.value=!0};return(m,l)=>(k(),C(L,null,[ye,t("div",be,[Ee,f(b,{type:"basic",modelValue:e.value.base.baseHP,"onUpdate:modelValue":l[0]||(l[0]=n=>e.value.base.baseHP=n)},null,8,["modelValue"])]),t("div",Ve,[ge,f(b,{type:"basic",modelValue:e.value.base.baseATK,"onUpdate:modelValue":l[1]||(l[1]=n=>e.value.base.baseATK=n)},null,8,["modelValue"])]),t("div",Ae,[De,f(b,{type:"basic",modelValue:e.value.base.baseDEF,"onUpdate:modelValue":l[2]||(l[2]=n=>e.value.base.baseDEF=n)},null,8,["modelValue"])]),ke,t("div",Ce,[we,f(b,{type:"enum",modelValue:e.value.mains.sands,"onUpdate:modelValue":l[3]||(l[3]=n=>e.value.mains.sands=n),items:s.sands},null,8,["modelValue","items"])]),t("div",xe,[Ue,f(b,{type:"enum",modelValue:e.value.mains.goblet,"onUpdate:modelValue":l[4]||(l[4]=n=>e.value.mains.goblet=n),items:s.goblet},null,8,["modelValue","items"])]),t("div",$e,[Me,f(b,{type:"enum",modelValue:e.value.mains.circlet,"onUpdate:modelValue":l[5]||(l[5]=n=>e.value.mains.circlet=n),items:s.circlet},null,8,["modelValue","items"])]),Ne,t("div",Pe,[Ie,f(b,{type:"basic",modelValue:e.value.art.hp,"onUpdate:modelValue":l[6]||(l[6]=n=>e.value.art.hp=n)},null,8,["modelValue"])]),t("div",Se,[Ke,f(b,{type:"basic",modelValue:e.value.art.atk,"onUpdate:modelValue":l[7]||(l[7]=n=>e.value.art.atk=n)},null,8,["modelValue"])]),t("div",Le,[He,f(b,{type:"basic",modelValue:e.value.art.def,"onUpdate:modelValue":l[8]||(l[8]=n=>e.value.art.def=n)},null,8,["modelValue"])]),t("div",Te,[je,f(b,{type:"basic",modelValue:e.value.art.em,"onUpdate:modelValue":l[9]||(l[9]=n=>e.value.art.em=n)},null,8,["modelValue"])]),t("div",Re,[We,f(b,{type:"percentage",modelValue:e.value.art.cr,"onUpdate:modelValue":l[10]||(l[10]=n=>e.value.art.cr=n)},null,8,["modelValue"])]),t("div",qe,[ze,f(b,{type:"percentage",modelValue:e.value.art.cd,"onUpdate:modelValue":l[11]||(l[11]=n=>e.value.art.cd=n)},null,8,["modelValue"])]),t("div",Oe,[Ye,f(b,{type:"percentage",modelValue:e.value.art.er,"onUpdate:modelValue":l[12]||(l[12]=n=>e.value.art.er=n)},null,8,["modelValue"])]),Ge,t("div",Je,[f(U,{modelValue:e.value.weights.hpp,"onUpdate:modelValue":l[13]||(l[13]=n=>e.value.weights.hpp=n)},{default:w(()=>[Qe]),_:1},8,["modelValue"]),f(U,{modelValue:e.value.weights.atkp,"onUpdate:modelValue":l[14]||(l[14]=n=>e.value.weights.atkp=n)},{default:w(()=>[Xe]),_:1},8,["modelValue"]),f(U,{modelValue:e.value.weights.defp,"onUpdate:modelValue":l[15]||(l[15]=n=>e.value.weights.defp=n)},{default:w(()=>[Ze]),_:1},8,["modelValue"]),f(U,{modelValue:e.value.weights.em,"onUpdate:modelValue":l[16]||(l[16]=n=>e.value.weights.em=n)},{default:w(()=>[eu]),_:1},8,["modelValue"]),f(U,{modelValue:e.value.weights.cr,"onUpdate:modelValue":l[17]||(l[17]=n=>e.value.weights.cr=n)},{default:w(()=>[uu]),_:1},8,["modelValue"]),f(U,{modelValue:e.value.weights.cd,"onUpdate:modelValue":l[18]||(l[18]=n=>e.value.weights.cd=n)},{default:w(()=>[tu]),_:1},8,["modelValue"]),f(U,{modelValue:e.value.weights.er,"onUpdate:modelValue":l[19]||(l[19]=n=>e.value.weights.er=n)},{default:w(()=>[lu]),_:1},8,["modelValue"])]),au,t("div",su,[t("span",ou,"\u751F\uFF1A"+V(F(A)(F(d),1)),1),t("span",nu,"\u653B\uFF1A"+V(F(A)(F(u),1)),1),t("span",du,"\u9632\uFF1A"+V(F(A)(F(o),1)),1),t("span",iu,"\u7CBE\uFF1A"+V(F(A)(F(p),1)),1),t("span",ru,"\u66B4\uFF1A"+V(F(A)(F(_),1)),1),t("span",pu,"\u7206\uFF1A"+V(F(A)(F(i),1)),1),t("span",cu,"\u5145\uFF1A"+V(F(A)(F(c),1)),1)]),t("div",mu,[vu,t("span",null,V(F(A)(F(B),1)),1)]),t("div",{class:"result"},[t("div",{class:"button",onClick:E},"\u7EC3\u5EA6\u8BC4\u4F30")]),S(t("div",null,[t("div",fu,V(r.value),1),t("div",Fu,V(h.value),1),hu],512),[[K,v.value]])],64))}});Z(_u).mount("#app");
