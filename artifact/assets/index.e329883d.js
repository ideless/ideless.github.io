var It=Object.defineProperty;var ct=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable;var Ze=(l,t,e)=>t in l?It(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,He=(l,t)=>{for(var e in t||(t={}))Nt.call(t,e)&&Ze(l,e,t[e]);if(ct)for(var e of ct(t))Gt.call(t,e)&&Ze(l,e,t[e]);return l};var J=(l,t,e)=>(Ze(l,typeof t!="symbol"?t+"":t,e),e);import{c as Lt,E as ye,u as jt,d as Y,a as et,w as te,v as ae,b as i,o as y,e as w,f as o,g as r,s as Pt,h as Wt,p as _e,i as ge,j as p,k,t as M,n as oe,F as G,r as H,l as Ht,m as zt,q as tt,x as $,y as we,z as ze,A as Ke,B as Re,C as Yt,D as Ie,G as Ye,H as $e,I as N,J as U,K,L as ve,M as he,N as pt,O as qt,P as Jt,Q as mt,R as Xt,S as Qt,T as ft,U as Zt,V as ht,W as lt,X as el,Y as tl,Z as vt,_ as ll,$ as ul,a0 as al,a1 as Ne,a2 as Ce,a3 as sl,a4 as qe,a5 as ol,a6 as nl,a7 as rl,a8 as il,a9 as _t,aa as ut,ab as dl,ac as at,ad as cl,ae as pl,af as ml,ag as fl,ah as hl,ai as vl,aj as _l,ak as gl,al as Bl,am as yl}from"./vendor.849b9bae.js";const Cl=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const s of u)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function e(u){const s={};return u.integrity&&(s.integrity=u.integrity),u.referrerpolicy&&(s.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?s.credentials="include":u.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(u){if(u.ep)return;u.ep=!0;const s=e(u);fetch(u.href,s)}};Cl();function gt(l,t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(l)),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}function Bt(l,t){return!t||typeof t!="object"?!1:(Object.keys(t).forEach(e=>{l.hasOwnProperty(e)&&(l[e]=t[e])}),!0)}class yt{constructor(t){J(this,"max_row",1e3);J(this,"min_star",5);J(this,"min_level",0);J(this,"max_wait_switch_artifact",800);J(this,"default_stop",500);J(this,"lock_stop",100);J(this,"scroll_stop",100);J(this,"number",0);J(this,"speed",5);J(this,"max_wait_scroll",0);J(this,"no_check",!1);J(this,"dxgcap",!1);Bt(this,t)}toArgv(){let t=[];for(let e in this){let a="--"+e.replaceAll("_","-");typeof this[e]=="boolean"?this[e]&&t.push(a):(t.push(a),t.push(String(this[e])))}return t}}function ne(l,t){for(let e in t)if(t[e]==l)return e}function Be(l,t){if(!l)throw new Error(t)}function st(l,t){let e,a;return t.forEach(u=>{u in l&&(e===void 0||l[u]>e)&&(e=l[u],a=u)}),a}function ot(l,t){let e,a;return t.forEach(u=>{u in l&&(e===void 0||l[u]<e)&&(e=l[u],a=u)}),a}function Ct(l,t,e){let a=l[t];l[t]=l[e],l[e]=a}function De(l,t,e){if(typeof l=="number")return Math.floor(Math.random()*l);if(t==null&&e==null){let a=Math.floor(Math.random()*l.length);return l[a]}else if(t&&e==null){let a=0;t.forEach(n=>a+=n);let u=0,s=a*Math.random();for(let n=0;n<l.length;++n)if(u+=t[n],s<=u)return l[n];return l[0]}else if(t&&e){let a=[...l],u=[...t],s=0;t.forEach(n=>s+=n);for(let n=0;n<e;++n){let v=Math.random()*s,c=0;for(let d=n;d<a.length;++d)if(c+=u[d],v<=c){s-=u[d],Ct(a,n,d),Ct(u,n,d);break}}return a.slice(0,e)}return 0}class nt{constructor(t){J(this,"cache",{});J(this,"get");this.get=(e,a)=>{let u=JSON.stringify(e);return u in this.cache?this.cache[u]:this.cache[u]=t(e,a)}}set(t,e){let a=JSON.stringify(t);this.cache[a]=e}clear(){this.cache={}}}var j={minorStat:{hp:{p:6/44,v:298.75},atk:{p:6/44,v:19.45},def:{p:6/44,v:23.15},hpp:{p:4/44,v:5.83},atkp:{p:4/44,v:5.83},defp:{p:4/44,v:7.29},em:{p:4/44,v:23.31},er:{p:4/44,v:6.48},cr:{p:3/44,v:3.89},cd:{p:3/44,v:7.77}},minorKeys:["hp","atk","def","hpp","atkp","defp","em","er","cr","cd"],mainKeys:{all:["hp","atk","hpp","atkp","defp","em","er","hb","cr","cd","pyroDB","hydroDB","electroDB","anemoDB","cryoDB","geoDB","physicalDB","dendroDB"],flower:["hp"],plume:["atk"],sands:["hpp","atkp","defp","em","er"],goblet:["hpp","atkp","defp","em","pyroDB","hydroDB","electroDB","anemoDB","cryoDB","geoDB","physicalDB","dendroDB"],circlet:["hpp","atkp","defp","em","hb","cr","cd"]},mainStat:{hp:[717,920,1123,1326,1530,1733,1936,2139,2342,2545,2749,2952,3155,3358,3561,3764,3967,4171,4374,4577,4780],atk:[47,60,73,86,100,113,126,139,152,166,179,192,205,219,232,245,258,272,285,298,311],hpp:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],atkp:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],defp:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],em:[28,36,44,52,60,68,76,84,91,99,107,115,123,131,139,147,155,163,171,179,187],er:[7.8,10,12.2,14.4,16.6,18.8,21,23.2,25.4,27.6,29.8,32,34.2,36.4,38.6,40.8,43,45.2,47.4,49.6,51.8],hb:[5.4,6.9,8.4,10,11.5,13,14.5,16.1,17.6,19.1,20.6,22.1,23.7,25.2,26.7,28.2,29.8,31.3,32.8,34.3,35.9],cr:[4.7,6,7.3,8.6,9.9,11.3,12.6,13.9,15.2,16.6,17.9,19.2,20.5,21.8,23.2,24.5,25.8,27.1,28.4,29.8,31.1],cd:[9.3,12,14.6,17.3,19.9,22.5,25.2,27.8,30.5,33.1,35.7,38.4,41,43.7,46.3,49,51.6,54.2,56.9,59.5,62.2],pyroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],hydroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],electroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],anemoDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],cryoDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],geoDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6],physicalDB:[8.7,11.2,13.7,16.2,18.6,21.1,23.6,26.1,28.6,31,33.5,36,38.5,40.9,43.4,45.9,48.4,50.8,53.3,55.8,58.3],dendroDB:[7,9,11,12.9,14.9,16.9,18.9,20.9,22.8,24.8,26.8,28.8,30.8,32.8,34.7,36.7,38.7,40.7,42.7,44.6,46.6]},mainDistr:{flower:{hp:1},plume:{atk:1},sands:{hpp:8/30,atkp:8/30,defp:8/30,em:3/30,er:3/30},goblet:{hpp:767/4e3,atkp:767/4e3,defp:766/4e3,pyroDB:200/4e3,hydroDB:200/4e3,electroDB:200/4e3,anemoDB:200/4e3,cryoDB:200/4e3,geoDB:200/4e3,physicalDB:200/4e3,dendroDB:200/4e3,em:100/4e3},circlet:{hpp:11/50,atkp:11/50,defp:11/50,cr:5/50,cd:5/50,hb:5/50,em:2/50}}},X={TravelerAnemo:{element:"anemo",rarity:5,presets:["\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["em","atkp"],goblet:["em","anemoDB"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:0,em:1,er:1,cr:.5,cd:.25}}},TravelerGeo:{element:"geo",rarity:5,presets:["\u653B\u5145\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","ArchaicPetra","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["geoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:0,er:.25,cr:1,cd:1}}},TravelerElectro:{element:"electro",rarity:5,presets:["\u5145","\u653B\u5145\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","GladiatorsFinale","WanderersTroupe","EmblemOfSeveredFate","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er"],goblet:["atkp","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},TravelerDendro:{element:"dendro",rarity:5,presets:["\u7CBE\u53CC\u66B4","\u7CBE\u5145\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u7CBE\u5145\u53CC\u66B4"],build:{set:["EmblemOfSeveredFate","DeepwoodMemories","GildedDreams","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er","em"],goblet:["dendroDB","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},KamisatoAyaka:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","NoblesseOblige","ShimenawasReminiscence","EmblemOfSeveredFate","BlizzardStrayer"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Jean:{element:"anemo",rarity:5,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","OceanHuedClam","GladiatorsFinale","ViridescentVenerer","NoblesseOblige","MaidenBeloved"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["anemoDB","atkp"],circlet:["cr","cd","atkp","hb"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Lisa:{element:"electro",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["WanderersTroupe","EmblemOfSeveredFate","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["atkp","em","er"],goblet:["electroDB","atkp","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Barbara:{element:"hydro",rarity:4,presets:["\u751F\u5145"],build:{set:["TenacityOfTheMillelith","MaidenBeloved","NoblesseOblige","OceanHuedClam"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp"],circlet:["hb","hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.25,defp:0,em:.25,er:1,cr:.5,cd:.25}}},Kaeya:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["NoblesseOblige","BloodstainedChivalry","EmblemOfSeveredFate","PaleFlame","GladiatorsFinale","BlizzardStrayer"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["cryoDB","physicalDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Diluc:{element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","WanderersTroupe","ShimenawasReminiscence","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["atkp","em"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Razor:{element:"electro",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","BloodstainedChivalry","PaleFlame","GladiatorsFinale"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Amber:{element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["CrimsonWitchOfFlames","NoblesseOblige","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Venti:{pop:!0,element:"anemo",rarity:5,presets:["\u653B\u5145\u7CBE\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["","ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er","em"],goblet:["anemoDB","em"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Xiangling:{pop:!0,element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["NoblesseOblige","ShimenawasReminiscence","GladiatorsFinale","WanderersTroupe","EmblemOfSeveredFate","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["em","er","atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Beidou:{element:"electro",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","EmblemOfSeveredFate","NoblesseOblige","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["electroDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Xingqiu:{pop:!0,element:"hydro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","NoblesseOblige","HeartOfDepth","ShimenawasReminiscence","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Xiao:{pop:!0,element:"anemo",rarity:5,presets:["\u653B\u53CC\u66B4"],build:{set:["ViridescentVenerer","GladiatorsFinale","ShimenawasReminiscence",""],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["anemoDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Ningguang:{element:"geo",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["ArchaicPetra","GladiatorsFinale","NoblesseOblige","ShimenawasReminiscence"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["geoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:0,er:.25,cr:1,cd:1}}},Klee:{pop:!0,element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","WanderersTroupe","RetracingBolide","Lavawalker","ShimenawasReminiscence","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Zhongli:{pop:!0,element:"geo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u751F\u5145\u53CC\u66B4","\u653B\u751F\u53CC\u66B4"],build:{set:["ArchaicPetra","ShimenawasReminiscence","GladiatorsFinale","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["hpp","atkp","er"],goblet:["geoDB","hpp"],circlet:["cr","cd","hpp"]},weight:{hp:0,atk:0,def:0,hpp:.5,atkp:.5,defp:0,em:0,er:.25,cr:1,cd:1}}},Fischl:{pop:!0,element:"electro",rarity:4,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["PaleFlame","ThunderingFury","GladiatorsFinale","BloodstainedChivalry","ShimenawasReminiscence","Thundersoother","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["electroDB","physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Bennett:{pop:!0,element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["OceanHuedClam","MaidenBeloved","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp"],circlet:["hb","hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.25,defp:0,em:.25,er:1,cr:.25,cd:.25}}},Tartaglia:{pop:!0,element:"hydro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","NoblesseOblige","GladiatorsFinale","WanderersTroupe","HeartOfDepth"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er","em"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Noelle:{element:"geo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u9632\u53CC\u66B4","\u653B\u9632\u5145\u53CC\u66B4","\u9632\u53CC\u66B4"],build:{set:["RetracingBolide","GladiatorsFinale","HuskOfOpulentDreams"],main:{flower:["hp"],plume:["atk"],sands:["defp"],goblet:["geoDB","defp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:.5,em:0,er:.5,cr:1,cd:1}}},Qiqi:{element:"cryo",rarity:5,presets:["\u653B\u53CC\u66B4"],build:{set:["EmblemOfSeveredFate","MaidenBeloved","NoblesseOblige","OceanHuedClam","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["er","atkp"],goblet:["atkp"],circlet:["hb","atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:1,cr:.25,cd:.25}}},Chongyun:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["BlizzardStrayer","EmblemOfSeveredFate","Lavawalker","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Ganyu:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["NoblesseOblige","GladiatorsFinale","ShimenawasReminiscence","EmblemOfSeveredFate","BlizzardStrayer","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Albedo:{element:"geo",rarity:5,presets:["\u9632\u53CC\u66B4"],build:{set:["ArchaicPetra","HuskOfOpulentDreams","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["defp"],goblet:["geoDB"],circlet:["cr","cd","defp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:.5,em:0,er:.25,cr:1,cd:1}}},Diona:{element:"cryo",rarity:4,presets:["\u751F\u5145"],build:{set:["OceanHuedClam","TenacityOfTheMillelith","MaidenBeloved","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hpp"],circlet:["hpp","hb"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:.5,cd:.25}}},Mona:{element:"hydro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["HeartOfDepth","WanderersTroupe","EmblemOfSeveredFate","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["er"],goblet:["atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Keqing:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","NoblesseOblige","BloodstainedChivalry","PaleFlame","Thundersoother","ShimenawasReminiscence","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["electroDB","physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Sucrose:{pop:!0,element:"anemo",rarity:4,presets:["\u7CBE"],build:{set:["GladiatorsFinale","NoblesseOblige","ShimenawasReminiscence","ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["em","er","atkp"],goblet:["em","anemoDB"],circlet:["cr","cd","em"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:0,em:1,er:.5,cr:.5,cd:.25}}},Xinyan:{element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u9632\u53CC\u66B4"],build:{set:["PaleFlame","GladiatorsFinale","ShimenawasReminiscence","RetracingBolide","HuskOfOpulentDreams","TenacityOfTheMillelith","BloodstainedChivalry"],main:{flower:["hp"],plume:["atk"],sands:["defp","atkp"],goblet:["defp","physicalDB"],circlet:["cr","cd","defp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:.5,em:0,er:.5,cr:1,cd:1}}},Rosaria:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","BlizzardStrayer","BloodstainedChivalry","EmblemOfSeveredFate","PaleFlame","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["cryoDB","physicalDB"],circlet:["cr"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},HuTao:{pop:!0,element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u751F\u7CBE\u53CC\u66B4","\u751F\u7CBE\u53CC\u66B4","\u751F\u7CBE\u7206\u4F24"],build:{set:["TenacityOfTheMillelith","WanderersTroupe","RetracingBolide","ShimenawasReminiscence","CrimsonWitchOfFlames"],main:{flower:["hp"],plume:["atk"],sands:["hpp","em"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:.5,atkp:.25,defp:0,em:.5,er:.25,cr:1,cd:1}}},KaedeharaKazuha:{pop:!0,element:"anemo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u7CBE\u5145"],build:{set:["","ViridescentVenerer"],main:{flower:["hp"],plume:["atk"],sands:["em","atkp"],goblet:["anemoDB","em","atkp"],circlet:["cr","cd","em","atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:1,er:.5,cr:.5,cd:.5}}},Yanfei:{element:"pyro",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["","RetracingBolide","CrimsonWitchOfFlames","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Yoimiya:{pop:!0,element:"pyro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","CrimsonWitchOfFlames","RetracingBolide","Lavawalker","ShimenawasReminiscence"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.25,cr:1,cd:1}}},Thoma:{element:"pyro",rarity:4,presets:["\u751F\u5145"],build:{set:["TenacityOfTheMillelith","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp"],circlet:["hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.25,defp:0,em:.25,er:1,cr:.5,cd:.25}}},Eula:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u51FB\u7206\u4F24","\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","BloodstainedChivalry","ShimenawasReminiscence","PaleFlame"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["physicalDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:0,er:.5,cr:1,cd:1}}},RaidenShogun:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["er","atkp"],goblet:["electroDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},Sayu:{element:"anemo",rarity:4,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","OceanHuedClam","ViridescentVenerer","MaidenBeloved"],main:{flower:["hp"],plume:["atk"],sands:["em","er","atkp"],goblet:["em","anemoDB"],circlet:["em","hb","atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:.5,er:1,cr:.5,cd:.25}}},SangonomiyaKokomi:{pop:!0,element:"hydro",rarity:5,presets:["\u751F\u5145","\u751F\u653B\u5145","\u751F\u653B\u7CBE\u5145"],build:{set:["MaidenBeloved","OceanHuedClam","TenacityOfTheMillelith","HeartOfDepth"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hydroDB","hpp"],circlet:["hb"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:.5,defp:0,em:.5,er:.5,cr:0,cd:0}}},Gorou:{element:"geo",rarity:4,presets:["\u9632\u5145"],build:{set:["HuskOfOpulentDreams","EmblemOfSeveredFate","MaidenBeloved","OceanHuedClam","ArchaicPetra","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er"],goblet:["defp"],circlet:["defp","hb"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:1,em:.25,er:1,cr:.5,cd:.25}}},KujouSara:{element:"electro",rarity:4,presets:["\u653B\u5145\u53CC\u66B4","\u653B\u53CC\u66B4"],build:{set:["GladiatorsFinale","ThunderingFury","ShimenawasReminiscence","EmblemOfSeveredFate","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["er","atkp"],goblet:["electroDB","atkp"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.5,cr:1,cd:1}}},AratakiItto:{pop:!0,element:"geo",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u9632\u53CC\u66B4","\u653B\u9632\u5145\u53CC\u66B4","\u9632\u53CC\u66B4"],build:{set:["ArchaicPetra","HuskOfOpulentDreams"],main:{flower:["hp"],plume:["atk"],sands:["defp"],goblet:["geoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:.5,em:0,er:.5,cr:1,cd:1}}},YaeMiko:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u7CBE\u53CC\u66B4","\u653B\u5145\u7CBE\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","GladiatorsFinale","ThunderingFury","Thundersoother","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["electroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},ShikanoinHeizou:{element:"anemo",rarity:4,presets:["\u653B\u53CC\u66B4"],build:{set:["ViridescentVenerer","GladiatorsFinale","ShimenawasReminiscence","EchoesOfAnOffering"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["anemoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:0,cr:1,cd:1}}},Yelan:{pop:!0,element:"hydro",rarity:5,presets:["\u751F\u53CC\u66B4","\u751F\u5145\u53CC\u66B4"],build:{set:["EmblemOfSeveredFate","HeartOfDepth","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:1,cd:1}}},Aloy:{element:"cryo",rarity:4,presets:["\u653B\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["GladiatorsFinale","ShimenawasReminiscence","EmblemOfSeveredFate","NoblesseOblige","BlizzardStrayer"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er","em"],goblet:["cryoDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.25,er:.25,cr:1,cd:1}}},Shenhe:{pop:!0,element:"cryo",rarity:5,presets:["\u653B\u5145","\u653B\u53CC\u66B4"],build:{set:["ShimenawasReminiscence","GladiatorsFinale","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["atkp"],circlet:["atkp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:.25,er:.5,cr:.5,cd:.25}}},YunJin:{element:"geo",rarity:4,presets:["\u9632\u5145"],build:{set:["EmblemOfSeveredFate","NoblesseOblige","HuskOfOpulentDreams"],main:{flower:["hp"],plume:["atk"],sands:["defp","er"],goblet:["defp"],circlet:["defp"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:1,em:.25,er:1,cr:.5,cd:.25}}},KukiShinobu:{element:"electro",rarity:4,presets:["\u751F","\u751F\u7CBE"],build:{set:["TenacityOfTheMillelith","OceanHuedClam","MaidenBeloved"],main:{flower:["hp"],plume:["atk"],sands:["em","hpp"],goblet:["em","hpp"],circlet:["hb","em"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:.5,cd:0}}},KamisatoAyato:{pop:!0,element:"hydro",rarity:5,presets:["\u653B\u53CC\u66B4","\u653B\u751F\u53CC\u66B4"],build:{set:["EchoesOfAnOffering","GladiatorsFinale","HeartOfDepth"],main:{flower:["hp"],plume:["atk"],sands:["atkp"],goblet:["hydroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:.25,atkp:.5,defp:0,em:0,er:0,cr:1,cd:1}}},Collei:{element:"dendro",rarity:4,presets:["\u7CBE\u53CC\u66B4","\u7CBE\u5145\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4","\u653B\u7CBE\u5145\u53CC\u66B4"],build:{set:["DeepwoodMemories","GildedDreams","EmblemOfSeveredFate","NoblesseOblige"],main:{flower:["hp"],plume:["atk"],sands:["atkp","er"],goblet:["dendroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1}}},Dori:{element:"electro",rarity:4,presets:["\u751F\u5145"],build:{set:["MaidenBeloved","OceanHuedClam","NoblesseOblige","EmblemOfSeveredFate"],main:{flower:["hp"],plume:["atk"],sands:["hpp","er"],goblet:["hpp"],circlet:["hb"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:0,cd:0}}},Tighnari:{pop:!0,element:"dendro",rarity:5,presets:["\u7CBE\u53CC\u66B4","\u653B\u7CBE\u53CC\u66B4"],build:{set:["DeepwoodMemories","GildedDreams","WanderersTroupe"],main:{flower:["hp"],plume:["atk"],sands:["em"],goblet:["dendroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:0,cr:1,cd:1}}},Nilou:{pop:!0,element:"hydro",rarity:5,presets:["\u751F\u7CBE\u53CC\u66B4","\u751F\u7CBE\u5145\u53CC\u66B4"],build:{set:["GildedDreams","WanderersTroupe","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["hpp"],goblet:["hpp"],circlet:["hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:0,cd:0}}},Cyno:{pop:!0,element:"electro",rarity:5,presets:["\u653B\u7CBE\u53CC\u66B4","\u653B\u7CBE\u5145\u53CC\u66B4"],build:{set:["GildedDreams","GladiatorsFinale","ThunderingFury"],main:{flower:["hp"],plume:["atk"],sands:["em","atkp"],goblet:["electroDB"],circlet:["cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:0,em:.5,er:0,cr:1,cd:1}}},Candace:{element:"hydro",rarity:4,presets:["\u751F\u5145"],build:{set:["EmblemOfSeveredFate","NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["er","hpp"],goblet:["hpp","hydroDB"],circlet:["hpp","cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:0,cd:0}}},Nahida:{pop:!0,element:"dendro",rarity:5,presets:["\u7CBE","\u7CBE\u53CC\u66B4"],build:{set:["WanderersTroupe","DeepwoodMemories","GildedDreams"],main:{flower:["hp"],plume:["atk"],sands:["em"],goblet:["em","dendroDB"],circlet:["em","cr","cd"]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.25,defp:0,em:1,er:0,cr:.5,cd:.5}}},Layla:{element:"cryo",rarity:4,presets:["\u751F\u5145"],build:{set:["NoblesseOblige","TenacityOfTheMillelith"],main:{flower:["hp"],plume:["atk"],sands:["hpp"],goblet:["hpp"],circlet:["hpp"]},weight:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:0,cd:0}}},Wanderer:{pop:!0,element:"anemo",rarity:5,presets:[],build:{set:[],main:{flower:["hp"],plume:["atk"],sands:[],goblet:[],circlet:[]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:0,er:0,cr:0,cd:0}}},Faruzan:{element:"anemo",rarity:4,presets:[],build:{set:[],main:{flower:["hp"],plume:["atk"],sands:[],goblet:[],circlet:[]},weight:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:0,er:0,cr:0,cd:0}}}};function Ve(l,t=0){let e=[];if(typeof l=="number")for(let a=0;a<l;++a)e.push(0);else if(t==l.length-1)for(let a=0;a<l[t];++a)e.push(0);else if(t<l.length-1)for(let a=0;a<l[t];++a)e.push(Ve(l,t+1));return e}function kt(l,t,e){let a=l[t];l[t]=l[e],l[e]=a}function Ft(l,t,e,a=0){if(a==t)e.push(l.slice(0,t));else for(let u=0;u<l.length-a;++u)Ft(l,t,e,a+1),(t-a)%2?kt(l,a,l.length-1-u):kt(l,a,l.length-1)}function bt(l,t){if(t==null&&(t=l.length),t<1||t>l.length)throw new Error("permutations: invalid n");let e=[];return Ft([...l],t,e),e}function se(...l){if(l.length==0)return[];for(let e of l)if(e.length==0)return[];let t=[1];for(let e of l){let a=[];for(let u=0;u<t.length;++u)for(let s=0;s<e.length;++s)u+s==a.length&&a.push(0),a[u+s]+=t[u]*e[s];t=a}return t}function kl(l){let t=0,e=[];for(let a of l)e.push(a-t),t=a;return e}function rt(l){let t=0,e=[];for(let a of l)t+=a,e.push(t);return e}function Et(l,t=1){let e=0;for(let a=1;a<l.length;++a)e+=l[a]*a**t;return e}function re(l,t){if(l.length!=t.length||t.length==0)throw new Error("Invalid arguments");let e=[];for(let a=0;a<t.length;++a)for(let u=0;u<l[a].length;++u)u==e.length&&e.push(0),e[u]+=t[a]*l[a][u];return t.length==1&&e.length&&(e[0]+=1-t[0]),e}function Ge(l){for(;l[l.length-1]==0;)l.pop()}const ie={hp:6/44,atk:6/44,def:6/44,hpp:4/44,atkp:4/44,defp:4/44,em:4/44,er:4/44,cr:3/44,cd:3/44};let ke,Oe,Je,wt;function Te(l){let t=Ve(41);for(let e=7;e<=10;++e){ke=l[0]*e;for(let a=7;a<=10;++a){Oe=ke+l[1]*a;for(let u=7;u<=10;++u){Je=Oe+l[2]*u;for(let s=7;s<=10;++s)wt=Je+l[3]*s,t[Math.round(wt)]+=1}}}Ge(t);for(let e=0;e<t.length;++e)t[e]/=256;return t}function Fl(l){let t=Ve(31);for(let e=7;e<=10;++e){ke=l[0]*e;for(let a=7;a<=10;++a){Oe=ke+l[1]*a;for(let u=7;u<=10;++u)Je=Oe+l[2]*u,t[Math.round(Je)]+=1}}Ge(t);for(let e=0;e<t.length;++e)t[e]/=64;return t}function Fe(l){let t=Ve(21);for(let e=0;e<4;++e)for(let a=0;a<4;++a)for(let u=7;u<=10;++u){ke=l[e]*u;for(let s=7;s<=10;++s)Oe=ke+l[a]*s,t[Math.round(Oe)]+=1}Ge(t);for(let e=0;e<t.length;++e)t[e]/=256;return t}function be(l){let t=Ve(11);for(let e=0;e<4;++e)for(let a=7;a<=10;++a)ke=l[e]*a,t[Math.round(ke)]+=1;Ge(t);for(let e=0;e<t.length;++e)t[e]/=16;return t}function Dt(l,t,e=5){let a={},u={},s=[];for(let h in ie)h!=l&&s.push(h);let n=l in ie?1-ie[l]:1;if(e==0)for(let h of bt(s,3)){let C=1,F=n;for(let _ of h)C*=ie[_]/F,F-=ie[_];let b=[];for(let _ of h)b.push(t[_]);b.sort();let B=b.join(",");B in a?a[B]+=C:a[B]=C}for(let h of bt(s,4)){let C=1,F=n;for(let _ of h)C*=ie[_]/F,F-=ie[_];let b=[];for(let _ of h)b.push(t[_]);b.sort();let B=b.join(",");B in u?u[B]+=C:u[B]=C}let v=[0],c,d,f,g;if(e==0){for(let h in a){let C=h.split(",").map(F=>parseFloat(F));c=Fl(C),v=re([v,c],[1,.8*a[h]])}for(let h in u){let C=h.split(",").map(F=>parseFloat(F));c=Te(C),v=re([v,c],[1,.2*u[h]])}}else if(e==1)for(let h in u){let C=h.split(",").map(F=>parseFloat(F));d=Te(C),g=be(C),c=d,v=re([v,c],[1,.8*u[h]]),c=se(d,g),v=re([v,c],[1,.2*u[h]])}else if(e==2)for(let h in u){let C=h.split(",").map(F=>parseFloat(F));d=Te(C),f=Fe(C),g=be(C),c=se(d,g),v=re([v,c],[1,.8*u[h]]),c=se(d,f),v=re([v,c],[1,.2*u[h]])}else if(e==3)for(let h in u){let C=h.split(",").map(F=>parseFloat(F));d=Te(C),f=Fe(C),g=be(C),c=se(d,f),v=re([v,c],[1,.8*u[h]]),c=se(d,f,g),v=re([v,c],[1,.2*u[h]])}else if(e==4)for(let h in u){let C=h.split(",").map(F=>parseFloat(F));d=Te(C),f=Fe(C),g=be(C),c=se(d,f,g),v=re([v,c],[1,.8*u[h]]),c=se(d,f,f),v=re([v,c],[1,.2*u[h]])}else for(let h in u){let C=h.split(",").map(F=>parseFloat(F));d=Te(C),f=Fe(C),g=be(C),c=se(d,f,f),v=re([v,c],[1,.8*u[h]]),c=se(d,f,f,g),v=re([v,c],[1,.2*u[h]])}return rt(v)}function bl(l,t,e,a){if(a<=0)return[1];let u={},s=[],n;for(let g of e)s.push(t[g]);if(e.length==4)n=s.join(","),u[n]=1;else{let g=l in ie?1-ie[l]:1;for(let h of e)g-=ie[h];s.push(0);for(let h in ie)h==l||e.includes(h)||(s[3]=t[h],n=s.join(","),n in u?u[n]+=ie[h]/g:u[n]=ie[h]/g);a-=1}let v=[0],c,d,f;for(let g in u){if(s=g.split(",").map(h=>parseFloat(h)),e.length==3){c=Ve(11);for(let h=7;h<=10;++h)c[Math.round(s[3]*h)]+=.25;Ge(c)}else c=[1];a==1?(d=be(s),c=se(c,d)):a==2?(f=Fe(s),c=se(c,f)):a==3?(d=be(s),f=Fe(s),c=se(c,f,d)):a==4?(f=Fe(s),c=se(c,f,f)):a==5&&(d=be(s),f=Fe(s),c=se(c,f,f,d)),v=re([v,c],[1,u[g]])}return v}const Vt=new nt(({main:l,weight:t})=>Dt(l,t));class Q{constructor(t){J(this,"key","");J(this,"value",0);t&&(this.key=t.key,this.value=t.value)}valueString(){return["hp","atk","def","em"].includes(this.key)?this.value.toFixed(0):this.value.toFixed(1)+"%"}}class ce{constructor(t){J(this,"set","");J(this,"slot","");J(this,"rarity",5);J(this,"level",0);J(this,"lock",!1);J(this,"location","");J(this,"mainKey","");J(this,"minors",[]);J(this,"data",{index:-Math.random(),source:"",lock:!1,affnum:{cur:0,avg:0,min:0,max:0},score:0,charScores:[],defeat:0,mvec:[]});if(!(!t||typeof t!="object")){if(Object.keys(t).forEach(e=>{this.hasOwnProperty(e)&&e!="minors"&&e!="data"&&(this[e]=t[e])}),this.minors=[],t.minors instanceof Array)for(let e of t.minors)this.minors.push(new Q(e));this.data.lock=this.lock}}clear(){this.data.score=0,this.data.charScores=[],this.data.defeat=0}validate(){Be(this.rarity==5,"Only 5 star artifacts are supported"),Be([3,4].includes(this.minors.length),"Invalid artifact: number of minors is not 3 or 4"),Be(this.level>=0&&this.level<=20,"Invalid artifact: invalid level"),Be(this.level<4||this.minors.length==4,"Invalid artifact: number of minors is not 4")}updateAffnum(t){this.data.affnum={cur:0,avg:0,min:0,max:0};let e=new Set,a=new Set(j.minorKeys),u=0;a.delete(this.mainKey);for(let s of this.minors)this.data.affnum.cur+=t[s.key]*s.value/j.minorStat[s.key].v/.85,e.add(s.key),a.delete(s.key),u+=t[s.key];if(this.minors.length==3){let s=0,n=0;a.forEach(d=>{n+=t[d]*j.minorStat[d].p,s+=j.minorStat[d].p}),this.data.affnum.avg=this.data.affnum.cur+u+2*n/s;let v=st(t,a);e.add(v);let c=st(t,e);e.delete(v),this.data.affnum.max=this.data.affnum.cur+(t[v]+4*t[c])/.85,v=ot(t,a),e.add(v),c=ot(t,e),e.delete(v),this.data.affnum.min=this.data.affnum.cur+(t[v]+4*t[c])*.7/.85}else if(this.minors.length==4){let s=Math.ceil((20-this.level)/4);this.data.affnum.avg=this.data.affnum.cur+s*u/4;let n=st(t,e);this.data.affnum.max=this.data.affnum.cur+s*t[n]/.85,n=ot(t,e),this.data.affnum.min=this.data.affnum.cur+s*t[n]*.7/.85}}getAvgAffnum(t){let e=new Set,a=new Set(j.minorKeys),u=0,s=0;a.delete(this.mainKey);for(let n of this.minors)s+=t[n.key]*n.value/j.minorStat[n.key].v,e.add(n.key),a.delete(n.key),u+=t[n.key];if(this.minors.length==3){let n=0,v=0;return a.forEach(c=>{v+=t[c]*j.minorStat[c].p,n+=j.minorStat[c].p}),s+.85*u+1.7*v/n}else{let n=Math.ceil((20-this.level)/4);return s+n*u/4*.85}}updateScore(t){this.data.score=0,this.data.charScores=[];const e=new nt(u=>Math.round(this.getAvgAffnum(u)*10)),a=new nt((u,{slot:s,main:n,distr:v,affnum:c})=>{let d=j.mainDistr[s][n]/5,f=c>=v.length?1:v[c];return(d*f+1-d)**100});for(let u of t){let s=X[u].build;if(!s.main[this.slot].includes(this.mainKey))continue;let n=s.set.includes(this.set)?1:2,v=e.get(s.weight),c=Vt.get({main:this.mainKey,weight:s.weight}),d=a.get(s.weight,{slot:this.slot,main:this.mainKey,distr:c,affnum:v})**n;this.data.score=Math.max(this.data.score,d),d>=.001&&this.data.charScores.push({charKey:u,score:d})}this.data.charScores.sort((u,s)=>s.score-u.score)}updateScoreSingle(t){if(this.data.score=0,this.data.charScores=[],!t.main[this.slot].includes(this.mainKey))return;let e=t.set.includes(this.set)?1:2,a=Math.round(this.getAvgAffnum(t.weight)*10),u=Vt.get({main:this.mainKey,weight:t.weight}),s=j.mainDistr[this.slot][this.mainKey]/5,n=a>=u.length?1:u[a];this.data.score=(s*n+1-s)**e}static sortByDefeat(t){let e={cr:0,cd:1,em:2,er:3,atkp:4,defp:5,hpp:6},a={};for(let u of t){let s=u.slot+","+u.mainKey+","+Math.floor(u.level/4);s in a?a[s].push(u):a[s]=[u],u.data.defeat=0,u.data.mvec=[0,0,0,0,0,0,0];for(let n of u.minors)n.key in e&&(u.data.mvec[e[n.key]]=n.value)}for(let u in a){let s=a[u].length;for(let n=0;n<s-1;++n)for(let v=n+1;v<s;++v){let c=a[u][n],d=a[u][v],f=0,g=0;for(let h=0;h<7;++h)c.data.mvec[h]>=d.data.mvec[h]&&f++,d.data.mvec[h]>=c.data.mvec[h]&&g++;f==7&&g<7?d.data.defeat++:g==7&&f<7&&c.data.defeat++}}t.sort((u,s)=>u.data.defeat-s.data.defeat)}static rand({sets:t,slot:e,mainKey:a,init_3:u,level:s=0}){let n=new ce;if(t instanceof Array&&t.length&&(n.set=De(t)),e&&["flower","plume","sands","goblet","circlet"].includes(e)?n.slot=e:n.slot=De(["flower","plume","sands","goblet","circlet"]),a&&j.mainKeys[n.slot].includes(a))n.mainKey=a;else{let F=[],b=[];for(let B in j.mainDistr[n.slot])F.push(B),b.push(j.mainDistr[n.slot][B]);n.mainKey=De(F,b)}u==null&&(u=Math.random()<.8),n.level=s;let v=n.mainKey in j.minorStat?1-j.minorStat[n.mainKey].p:1,c=[],d=[];for(let F in j.minorStat)F!=n.mainKey&&(c.push(F),d.push(j.minorStat[F].p/v));let f=De(c,d,4),g=[0,0,0,0];for(let F=0;F<4;++F)g[F]=7+De(4);let h=Math.floor(s/4);u&&h--;for(let F=0;F<h;++F){let b=De(4),B=7+De(4);g[b]+=B}let C=u&&s<4?3:4;for(let F=0;F<C;++F)n.minors.push(new Q({key:f[F],value:g[F]/10*j.minorStat[f[F]].v}));return n}}var it={keymap:{affix:{hp:"hp",atk:"atk",def:"def",hpp:"hp_",atkp:"atk_",defp:"def_",em:"eleMas",er:"enerRech_",hb:"heal_",cr:"critRate_",cd:"critDMG_",pyroDB:"pyro_dmg_",hydroDB:"hydro_dmg_",electroDB:"electro_dmg_",anemoDB:"anemo_dmg_",cryoDB:"cryo_dmg_",geoDB:"geo_dmg_",physicalDB:"physical_dmg_",dendroDB:"dendro_dmg_"}},loads(l){let t=JSON.parse(l);Be(typeof t=="object"&&"artifacts"in t),Be(t.artifacts instanceof Array);let e=(t.source||"*")+"/good",a=[];for(let u of t.artifacts){if(u.rarity!==5)continue;let s=new ce({set:u.setKey,slot:u.slotKey,level:u.level,rarity:u.rarity,location:u.location,lock:u.lock,mainKey:ne(u.mainStatKey,this.keymap.affix),minors:u.substats.map(n=>({key:ne(n.key,this.keymap.affix),value:n.value}))});s.data.index=a.length,s.data.source=e,a.push(s)}return a},dumps(l){let t={format:"GOOD",version:1,source:"yas-lock",artifacts:[]};for(let e of l)t.artifacts.push({setKey:e.set,slotKey:e.slot,level:e.level,rarity:e.rarity,lock:e.lock,location:e.location,mainStatKey:this.keymap.affix[e.mainKey],substats:e.minors.map(a=>({key:this.keymap.affix[a.key],value:a.value}))});return JSON.stringify(t)}},Le={hasYasConfig(){return localStorage.getItem("yas_config")!=null},getYasConfig(){return new yt(JSON.parse(localStorage.getItem("yas_config")))},setYasConfig(l){localStorage.setItem("yas_config",JSON.stringify(l))},getYasVersion(){return localStorage.getItem("yas_version")},setYasVersion(l){localStorage.setItem("yas_version",l)}},At=[{label:"\u65E0",accept:l=>!0},{label:"\u4E09\u8BCD\u6761\u5355\u66B4",accept:l=>{if(l.minors.length!=3)return!1;let t=0;return l.minors.forEach(e=>{(e.key=="cr"||e.key=="cd")&&t++}),t==1}},{label:"\u53CC\u66B4",accept:l=>{let t=0;return l.minors.forEach(e=>{(e.key=="cr"||e.key=="cd")&&t++}),t==2}},{label:"\u5783\u573E",accept:l=>{const t=["atk","atkp","hp","hpp","def","defp"];if(t.includes(l.mainKey)){let e=!0;return l.minors.forEach(a=>{t.includes(a.key)||(e=!1)}),e}return!1}}];const St=250,xt=Symbol(),El=Lt({state:()=>({artifacts:[],filteredArtifacts:[],filter:{set:[],slot:[],main:[],lock:[],lvRange:[0,20],pro:!1,location:[],ruleId:0},weight:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1},weightInUse:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:0,em:.5,er:.5,cr:1,cd:1},sort:{by:"avg",characters:Object.keys(X).filter(l=>X[l].pop),sets:["NoblesseOblige","ShimenawasReminiscence","GladiatorsFinale","WanderersTroupe","EmblemOfSeveredFate","CrimsonWitchOfFlames"],sands:["em","er","atkp"],goblet:["pyroDB"],circlet:["cr","cd"]},artMode:{showAffnum:!1,useMaxAsUnit:!1},ws:{server:void 0,connected:!1},yas:{version:Le.getYasVersion(),config:Le.getYasConfig()},canExport:!1,nReload:0,loading:!1,nResetFilter:0}),getters:{},mutations:{setFilter(l,t){Bt(l.filter,t)},setWeight(l,{key:t,value:e}){l.weight[t]=e},usePreset(l,{weight:t}){l.weight=t},setSort(l,{key:t,value:e}){l.sort[t]=e},useBuild(l,{charKey:t}){if(t in X){let e=X[t].build;l.sort.sets=[...e.set],l.sort.sands=[...e.main.sands],l.sort.goblet=[...e.main.goblet],l.sort.circlet=[...e.main.circlet],l.weight=He({},e.weight)}},setArtMode(l,t){for(let e in t)e in l.artMode&&(l.artMode[e]=t[e])},setYasConfig(l,{config:t}){l.yas.config=t,Le.setYasConfig(t)},setYasVersion(l,{version:t}){l.yas.version=t,Le.setYasVersion(t)}},actions:{reload({state:l}){l.loading=!0,setTimeout(()=>{l.loading=!1,l.nReload++},St)},setArtifacts({state:l,dispatch:t},{canExport:e,artifacts:a}){l.canExport=e,l.artifacts=a,l.nResetFilter++,t("updFilteredArtifacts")},updFilteredArtifacts({state:l}){l.loading=!0,setTimeout(()=>{let t=l.artifacts;t=t.filter(e=>!(!l.filter.set.includes(e.set)||!l.filter.slot.includes(e.slot)||!l.filter.main.includes(e.mainKey)||!l.filter.lock.includes(e.lock.toString())||e.level<l.filter.lvRange[0]||l.filter.lvRange[1]<e.level)),l.filter.pro&&(t=t.filter(e=>l.filter.location.includes(e.location)?At[l.filter.ruleId].accept(e):!1)),l.weightInUse=He({},l.weight);for(let e of t)e.clear(),l.sort.by=="psingle"?e.updateScoreSingle({set:l.sort.sets,main:{flower:["hp"],plume:["atk"],sands:l.sort.sands,goblet:l.sort.goblet,circlet:l.sort.circlet},weight:l.weight}):l.sort.by=="pmulti"&&e.updateScore(l.sort.characters),e.updateAffnum(l.weightInUse);["psingle","pmulti"].includes(l.sort.by)?t.sort((e,a)=>a.data.score-e.data.score):l.sort.by=="defeat"?ce.sortByDefeat(t):l.sort.by=="index"?t.sort((e,a)=>e.data.index-a.data.index):["cur","avg","min","max"].includes(l.sort.by)&&t.sort((e,a)=>a.data.affnum[l.sort.by]-e.data.affnum[l.sort.by]),l.filteredArtifacts=t,l.nReload++,l.loading=!1},St)},updArtifact({state:l,dispatch:t},{index:e,toSwap:a,newArt:u}){for(let s of l.filteredArtifacts)if(s.data.index==e){if(a){for(let n of l.artifacts)if(n.location==u.location&&n.slot==u.slot){n.location=s.location;break}}s.location=u.location,s.level=u.level,s.minors=u.minors;break}t("updFilteredArtifacts")},delArtifacts({state:l,dispatch:t},{indices:e}){let a=new Set(e),u=[];for(let n of l.artifacts)a.has(n.data.index)||u.push(n);l.artifacts=u;let s=[];for(let n of l.filteredArtifacts)a.has(n.data.index)||s.push(n);l.filteredArtifacts=s,t("reload")},addArtifacts({state:l,dispatch:t},{artifacts:e}){for(let a of e)l.artifacts.push(a);l.nResetFilter++,t("updFilteredArtifacts")},flipLock({state:l},{index:t}){for(let e of l.artifacts)if(e.data.index==t){e.lock=!e.lock;return}},setLock({state:l},{indices:t,lock:e}){let a=new Set(t);for(let u of l.artifacts)a.has(u.data.index)&&(u.lock=e)},setWebSocket({state:l,dispatch:t},{ws:e}){if(!e){l.ws.server=void 0,l.ws.connected=!1;return}console.log(e),l.ws.server=new WebSocket(e),l.ws.server.onopen=()=>{l.ws.connected=!0},l.ws.server.onclose=()=>{l.ws.connected=!1},l.ws.server.onerror=a=>{ye({message:String(a),type:"error"})},l.ws.server.onmessage=a=>{try{let u=JSON.parse(a.data);switch(u.cmd){case"ScanRsp":l.loading=!1,u.data.success==!0?(ye({message:"\u626B\u63CF\u6210\u529F",type:"success"}),t("setArtifacts",{canExport:!0,artifacts:it.loads(u.data.good_json)})):ye({message:"\u626B\u63CF\u5931\u8D25\uFF1A"+u.data.message,type:"error"});break;case"LockRsp":l.loading=!1,u.data.success==!0?ye({message:"\u52A0\u89E3\u9501\u6210\u529F",type:"success"}):ye({message:"\u52A0\u89E3\u9501\u5931\u8D25\uFF1A"+u.data.message,type:"error"});break;case"ConfigNotify":Le.hasYasConfig()||(l.yas.config=new yt(u.data.config));break;default:break}}catch(u){ye({message:String(u),type:"error"})}}},sendScanReq({state:l}){if(!l.ws.server){ye({message:"WebSocket\u672A\u8FDE\u63A5",type:"error"});return}l.loading=!0;let t={cmd:"ScanReq",data:{argv:l.yas.config.toArgv()}};l.ws.server.send(JSON.stringify(t))},sendLockReq({state:l},{indices:t}){if(!l.ws.server){ye({message:"WebSocket\u672A\u8FDE\u63A5",type:"error"});return}l.loading=!0;let e={cmd:"LockReq",data:{argv:l.yas.config.toArgv(),indices:t}};l.ws.server.send(JSON.stringify(e))}}});function le(){return jt(xt)}var ue=(l,t)=>{const e=l.__vccOpts||l;for(const[a,u]of t)e[a]=u;return e};const $t=l=>(_e("data-v-37e0e2e5"),l=l(),ge(),l),wl={class:"layout-top"},Dl={key:0,class:"msg-wrapper success"},Vl=$t(()=>p("span",{style:{"margin-left":"5px"}},"\u5DF2\u8FDE\u63A5",-1)),Al={key:1,class:"msg-wrapper error"},Sl=$t(()=>p("span",{style:{"margin-left":"5px"}},"\u5DF2\u65AD\u5F00",-1)),xl=Y({setup(l){const t=le();return(e,a)=>{const u=et;return te((y(),w("div",wl,[i(t).state.ws.connected?(y(),w("div",Dl,[o(u,null,{default:r(()=>[o(i(Pt))]),_:1}),Vl])):(y(),w("div",Al,[o(u,null,{default:r(()=>[o(i(Wt))]),_:1}),Sl]))],512)),[[ae,i(t).state.ws.server]])}}});var $l=ue(xl,[["__scopeId","data-v-37e0e2e5"]]),P={set:{GladiatorsFinale:"\u89D2\u6597\u58EB\u7684\u7EC8\u5E55\u793C",WanderersTroupe:"\u6D41\u6D6A\u5927\u5730\u7684\u4E50\u56E2",Thundersoother:"\u5E73\u606F\u9E23\u96F7\u7684\u5C0A\u8005",ThunderingFury:"\u5982\u96F7\u7684\u76DB\u6012",MaidenBeloved:"\u88AB\u601C\u7231\u7684\u5C11\u5973",ViridescentVenerer:"\u7FE0\u7EFF\u4E4B\u5F71",CrimsonWitchOfFlames:"\u70BD\u70C8\u7684\u708E\u4E4B\u9B54\u5973",Lavawalker:"\u6E21\u8FC7\u70C8\u706B\u7684\u8D24\u4EBA",NoblesseOblige:"\u6614\u65E5\u5B97\u5BA4\u4E4B\u4EEA",BloodstainedChivalry:"\u67D3\u8840\u7684\u9A91\u58EB\u9053",ArchaicPetra:"\u60A0\u53E4\u7684\u78D0\u5CA9",RetracingBolide:"\u9006\u98DE\u7684\u6D41\u661F",BlizzardStrayer:"\u51B0\u98CE\u8FF7\u9014\u7684\u52C7\u58EB",HeartOfDepth:"\u6C89\u6CA6\u4E4B\u5FC3",TenacityOfTheMillelith:"\u5343\u5CA9\u7262\u56FA",PaleFlame:"\u82CD\u767D\u4E4B\u706B",ShimenawasReminiscence:"\u8FFD\u5FC6\u4E4B\u6CE8\u8FDE",EmblemOfSeveredFate:"\u7EDD\u7F18\u4E4B\u65D7\u5370",HuskOfOpulentDreams:"\u534E\u9986\u68A6\u9192\u5F62\u9AB8\u8BB0",OceanHuedClam:"\u6D77\u67D3\u7817\u78F2",VermillionHereafter:"\u8FB0\u7802\u5F80\u751F\u5F55",EchoesOfAnOffering:"\u6765\u6B46\u4F59\u54CD",DeepwoodMemories:"\u6DF1\u6797\u7684\u8BB0\u5FC6",GildedDreams:"\u9970\u91D1\u4E4B\u68A6",DesertPavilionChronicle:"\u6C99\u4E0A\u697C\u9601\u53F2\u8BDD",FlowerOfParadiseLost:"\u4E50\u56ED\u9057\u843D\u4E4B\u82B1"},affix:{hp:"\u751F\u547D\u503C",atk:"\u653B\u51FB\u529B",def:"\u9632\u5FA1\u529B",hpp:"\u751F\u547D\u503C%",atkp:"\u653B\u51FB\u529B%",defp:"\u9632\u5FA1\u529B%",em:"\u5143\u7D20\u7CBE\u901A",er:"\u5143\u7D20\u5145\u80FD",hb:"\u6CBB\u7597\u52A0\u6210",cr:"\u66B4\u51FB\u7387",cd:"\u66B4\u51FB\u4F24\u5BB3",pyroDB:"\u706B\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",hydroDB:"\u6C34\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",electroDB:"\u96F7\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",anemoDB:"\u98CE\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",cryoDB:"\u51B0\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",geoDB:"\u5CA9\u5143\u7D20\u4F24\u5BB3\u52A0\u6210",physicalDB:"\u7269\u7406\u4F24\u5BB3\u52A0\u6210",dendroDB:"\u8349\u5143\u7D20\u4F24\u5BB3\u52A0\u6210"},slot:{flower:"\u751F\u4E4B\u82B1",plume:"\u6B7B\u4E4B\u7FBD",sands:"\u65F6\u4E4B\u6C99",goblet:"\u7A7A\u4E4B\u676F",circlet:"\u7406\u4E4B\u51A0"},character:{Traveler:"\u65C5\u884C\u8005",TravelerAnemo:"\u98CE\u4E3B",TravelerGeo:"\u5CA9\u4E3B",TravelerElectro:"\u96F7\u4E3B",TravelerDendro:"\u8349\u4E3B",KamisatoAyaka:"\u795E\u91CC\u7EEB\u534E",Jean:"\u7434",Lisa:"\u4E3D\u838E",Barbara:"\u82AD\u82AD\u62C9",Kaeya:"\u51EF\u4E9A",Diluc:"\u8FEA\u5362\u514B",Razor:"\u96F7\u6CFD",Amber:"\u5B89\u67CF",Venti:"\u6E29\u8FEA",Xiangling:"\u9999\u83F1",Beidou:"\u5317\u6597",Xingqiu:"\u884C\u79CB",Xiao:"\u9B48",Ningguang:"\u51DD\u5149",Klee:"\u53EF\u8389",Zhongli:"\u949F\u79BB",Fischl:"\u83F2\u8C22\u5C14",Bennett:"\u73ED\u5C3C\u7279",Tartaglia:"\u8FBE\u8FBE\u5229\u4E9A",Noelle:"\u8BFA\u827E\u5C14",Qiqi:"\u4E03\u4E03",Chongyun:"\u91CD\u4E91",Ganyu:"\u7518\u96E8",Albedo:"\u963F\u8D1D\u591A",Diona:"\u8FEA\u5965\u5A1C",Mona:"\u83AB\u5A1C",Keqing:"\u523B\u6674",Sucrose:"\u7802\u7CD6",Xinyan:"\u8F9B\u7131",Rosaria:"\u7F57\u838E\u8389\u4E9A",HuTao:"\u80E1\u6843",KaedeharaKazuha:"\u67AB\u539F\u4E07\u53F6",Yanfei:"\u70DF\u7EEF",Yoimiya:"\u5BB5\u5BAB",Thoma:"\u6258\u9A6C",Eula:"\u4F18\u83C8",RaidenShogun:"\u96F7\u7535\u5C06\u519B",Sayu:"\u65E9\u67DA",SangonomiyaKokomi:"\u73CA\u745A\u5BAB\u5FC3\u6D77",Gorou:"\u4E94\u90CE",KujouSara:"\u4E5D\u6761\u88DF\u7F57",AratakiItto:"\u8352\u6CF7\u4E00\u6597",YaeMiko:"\u516B\u91CD\u795E\u5B50",ShikanoinHeizou:"\u9E7F\u91CE\u9662\u5E73\u85CF",Yelan:"\u591C\u5170",Aloy:"\u57C3\u6D1B\u4F0A",Shenhe:"\u7533\u9E64",YunJin:"\u4E91\u5807",KukiShinobu:"\u4E45\u5C90\u5FCD",KamisatoAyato:"\u795E\u91CC\u7EEB\u4EBA",Collei:"\u67EF\u83B1",Dori:"\u591A\u8389",Tighnari:"\u63D0\u7EB3\u91CC",Nilou:"\u59AE\u9732",Cyno:"\u8D5B\u8BFA",Candace:"\u574E\u8482\u4E1D",Nahida:"\u7EB3\u897F\u59B2",Layla:"\u83B1\u4F9D\u62C9",Wanderer:"\u6D41\u6D6A\u8005",Faruzan:"\u73D0\u9732\u73CA"},preset:{\u653B\u5145:"\u653B\u5145",\u653B\u5145\u53CC\u66B4:"\u653B\u5145\u53CC\u66B4",\u653B\u5145\u7CBE\u53CC\u66B4:"\u653B\u5145\u7CBE\u53CC\u66B4",\u653B\u51FB\u7206\u4F24:"\u653B\u51FB\u7206\u4F24",\u653B\u53CC\u66B4:"\u653B\u53CC\u66B4",\u653B\u751F\u5145\u53CC\u66B4:"\u653B\u751F\u5145\u53CC\u66B4",\u653B\u751F\u53CC\u66B4:"\u653B\u751F\u53CC\u66B4",\u653B\u751F\u7CBE\u53CC\u66B4:"\u653B\u751F\u7CBE\u53CC\u66B4",\u653B\u7CBE\u53CC\u66B4:"\u653B\u7CBE\u53CC\u66B4",\u653B\u9632\u53CC\u66B4:"\u653B\u9632\u53CC\u66B4",\u653B\u9632\u5145\u53CC\u66B4:"\u653B\u9632\u5145\u53CC\u66B4",\u751F:"\u751F",\u751F\u5145:"\u751F\u5145",\u751F\u653B\u5145:"\u751F\u653B\u5145",\u751F\u7CBE:"\u751F\u7CBE",\u751F\u653B\u7CBE\u5145:"\u751F\u653B\u7CBE\u5145",\u751F\u53CC\u66B4:"\u751F\u53CC\u66B4",\u751F\u5145\u53CC\u66B4:"\u751F\u5145\u53CC\u66B4",\u751F\u7CBE\u53CC\u66B4:"\u751F\u7CBE\u53CC\u66B4",\u751F\u7CBE\u7206\u4F24:"\u751F\u7CBE\u7206\u4F24",\u7CBE:"\u7CBE",\u7CBE\u5145:"\u7CBE\u5145",\u9632\u5145:"\u9632\u5145",\u9632\u53CC\u66B4:"\u9632\u53CC\u66B4",\u5145:"\u5145"},element:{pyro:"\u706B\u5143\u7D20",hydro:"\u6C34\u5143\u7D20",electro:"\u96F7\u5143\u7D20",anemo:"\u98CE\u5143\u7D20",cryo:"\u51B0\u5143\u7D20",geo:"\u5CA9\u5143\u7D20",dendro:"\u8349\u5143\u7D20"}};const Ol=l=>(_e("data-v-75f5699a"),l=l(),ge(),l),Tl=["title"],Ml={class:"head"},Ul={class:"head-stat"},Kl={class:"piece-name"},Rl={class:"main-affix-name"},Il={class:"main-affix-value"},Nl={class:"piece-img-wrapper"},Gl=["src"],Ll={class:"body"},jl={class:"body-head"},Pl={class:"level"},Wl={class:"cur-an"},Hl={class:"lock-img-container"},zl=["src"],Yl={class:"minor-affixes"},ql={class:"count"},Jl={key:0,class:"affix-numbers"},Xl={class:"min-an"},Ql={class:"avg-an"},Zl={class:"max-an"},eu={key:1,class:"full-an"},tu={class:"location"},lu=["src"],uu=Ol(()=>p("span",null,"\u7F16\u8F91",-1)),au=Y({props:{artifact:null,selected:{type:Boolean},selectMode:{type:Boolean},readonly:{type:Boolean}},emits:["flipSelect","flipLock","edit","stats"],setup(l,{emit:t}){const e=l,a=le(),u=k(()=>{if(e.artifact.set in P.set&&e.artifact.slot in P.slot){let m=P.set[e.artifact.set],E=P.slot[e.artifact.slot][2];return`${m} \xB7 ${E}`}else return"\u672A\u77E5"}),s=k(()=>e.artifact.set in P.set?`./assets/artifacts/${e.artifact.set}/${e.artifact.slot}.webp`:""),n=m=>{let E=P.affix[m];return E.endsWith("%")&&(E=E.substring(0,E.length-1)),E},v=k(()=>{if(e.artifact.mainKey in j.mainStat){let m=e.artifact.mainKey,E=j.mainStat[e.artifact.mainKey][e.artifact.level];return{name:P.affix[m],value:new Q({key:m,value:E}).valueString()}}else return{name:"\u672A\u77E5",value:0}}),c=k(()=>`+${e.artifact.level}`),d=k(()=>{let m=[];for(let E of e.artifact.minors){let I=n(E.key),R;a.state.artMode.showAffnum?(["atkp","defp","hpp"].includes(E.key)&&(I+="%"),R=E.value/j.minorStat[E.key].v/.85,a.state.artMode.useMaxAsUnit&&(R*=.85),R=R.toFixed(1)):R=E.valueString(),m.push({text:`${I}+${R}`,style:`opacity: ${a.state.weightInUse[E.key]>0?1:.5};`,count:Math.ceil(Math.round(E.value/j.minorStat[E.key].v*10)/10)})}return m}),f=k(()=>{let m=e.artifact.data.affnum;return a.state.artMode.useMaxAsUnit?{cur:(m.cur*.85).toFixed(1),avg:(m.avg*.85).toFixed(1),max:(m.max*.85).toFixed(1),min:(m.min*.85).toFixed(1)}:{cur:m.cur.toFixed(1),avg:m.avg.toFixed(1),max:m.max.toFixed(1),min:m.min.toFixed(1)}}),g=k(()=>e.artifact.lock?"./assets/game_icons/lock.webp":"./assets/game_icons/unlock.webp"),h=k(()=>({"artifact-card":!0,"select-mode":e.selectMode,selected:e.selected})),C=m=>{t("flipSelect",m.shiftKey)},F="./assets/stars.webp",b=k(()=>e.artifact.location in P.character?`./assets/char_sides/${e.artifact.location}.webp`:""),B=()=>{e.readonly||t("flipLock")},_=k(()=>e.artifact.data.charScores.map(m=>`${P.character[m.charKey]}${(m.score*100).toFixed(1)}%`).join(" "));return(m,E)=>{const I=et;return y(),w("div",{class:oe(i(h)),title:i(_)},[p("div",Ml,[p("div",Ul,[p("div",Kl,M(i(u)),1),p("div",Rl,M(i(v).name),1),p("div",Il,M(i(v).value),1),p("img",{src:F})]),p("div",Nl,[p("img",{src:i(s)},null,8,Gl)])]),p("div",Ll,[p("div",jl,[p("span",Pl,M(i(c)),1),p("span",Wl,M(i(f).cur),1),p("div",Hl,[p("img",{src:i(g),onClick:B,class:oe(l.readonly?"readonly":"")},null,10,zl)])]),p("div",Yl,[(y(!0),w(G,null,H(i(d),R=>(y(),w("div",{class:"minor-affix",style:tt(R.style)},[p("span",ql,M(R.count),1),p("span",null,M(R.text),1)],4))),256))]),l.artifact.level<20?(y(),w("div",Jl,[p("div",Xl,"\u6700\u5C0F"+M(i(f).min),1),p("div",Ql,"\u671F\u671B"+M(i(f).avg),1),p("div",Zl,"\u6700\u5927"+M(i(f).max),1)])):(y(),w("div",eu,"\u5DF2\u6EE1\u7EA7\uFF0C"+M(i(f).cur)+"\u8BCD\u6761",1))]),te(p("div",tu,[p("img",{src:i(b)},null,8,lu)],512),[[ae,i(b)]]),te(p("div",{class:"select-box",onClick:C},null,512),[[ae,!l.readonly]]),te(p("div",{class:"edit-box",onClick:E[0]||(E[0]=R=>t("edit"))},[o(I,{size:16},{default:r(()=>[o(i(Ht))]),_:1}),uu],512),[[ae,!l.readonly]]),te(p("div",{class:"defeat-num"},M(-l.artifact.data.defeat),513),[[ae,l.artifact.data.defeat]]),te(p("div",{class:"stats",onClick:E[1]||(E[1]=R=>t("stats"))},[o(I,null,{default:r(()=>[o(i(zt))]),_:1})],512),[[ae,!l.readonly]])],10,Tl)}}});var Ae=ue(au,[["__scopeId","data-v-75f5699a"]]);const su=K("\u4E3B\u8981\u5C5E\u6027"),ou=p("span",null,"\u89D2\u8272",-1),nu=p("span",null,"\u7B49\u7EA7",-1),ru=K("\u526F\u8BCD\u6761"),iu=K("\u9884\u89C8"),du={class:"art-preview-split"},cu={class:"equip-msg"},pu=K("\u4FDD\u5B58"),mu=Y({props:{modelValue:{type:Boolean},index:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(S){t("update:modelValue",S)}}),s=k(()=>{let S={};for(let z in X)X[z].element in S?S[X[z].element].push(z):S[X[z].element]=[z];let A=[{label:"",options:[{value:"",label:"\u95F2\u7F6E"}]}];for(let z in S)A.push({label:P.element[z]||"",options:S[z].map(L=>({value:L,label:P.character[L]}))});return A}),n=j.minorKeys.map(S=>({value:S,label:P.affix[S]}));let v={};const c=$(!1),d=$(new ce),f=()=>{c.value=!0,d.value.updateAffnum(a.state.weightInUse)},g=$(new ce);we(()=>u.value,()=>{if(!!u.value){for(let S in X)v[S]={flower:!1,plume:!1,sands:!1,goblet:!1,circlet:!1};for(let S of a.state.artifacts)S.data.index===e.index&&(d.value=new ce(S),d.value.data.affnum=He({},S.data.affnum),g.value=S),S.location in v&&(v[S.location][S.slot]=!0);c.value=!1}});const h=k({get(){return d.value.location},set(S){d.value.location=S,c.value=!0}}),C=k({get(){return d.value.level},set(S){d.value.level=S,f()}}),F=k({get(){return d.value.minors.length>=1?d.value.minors[0].key:""},set(S){d.value.minors.length>=1?d.value.minors[0].key=S:d.value.minors.push(new Q({key:S,value:0})),f()}}),b=k({get(){return d.value.minors.length>=1?d.value.minors[0].value:0},set(S){d.value.minors.length>=1?d.value.minors[0].value=S:d.value.minors.push(new Q({key:"atk",value:S})),f()}}),B=k({get(){return d.value.minors.length>=2?d.value.minors[1].key:""},set(S){d.value.minors.length>=2?d.value.minors[1].key=S:d.value.minors.push(new Q({key:S,value:0})),f()}}),_=k({get(){return d.value.minors.length>=2?d.value.minors[1].value:0},set(S){d.value.minors.length>=2?d.value.minors[1].value=S:d.value.minors.push(new Q({key:"atk",value:S})),f()}}),m=k({get(){return d.value.minors.length>=3?d.value.minors[2].key:""},set(S){d.value.minors.length>=3?d.value.minors[2].key=S:d.value.minors.push(new Q({key:S,value:0})),f()}}),E=k({get(){return d.value.minors.length>=3?d.value.minors[2].value:0},set(S){d.value.minors.length>=3?d.value.minors[2].value=S:d.value.minors.push(new Q({key:"atk",value:S})),f()}}),I=k({get(){return d.value.minors.length>=4?d.value.minors[3].key:""},set(S){S==""?d.value.minors.length==4&&d.value.minors.pop():d.value.minors.length>=4?d.value.minors[3].key=S:d.value.minors.push(new Q({key:S,value:0})),f()}}),R=k({get(){return d.value.minors.length>=4?d.value.minors[3].value:0},set(S){d.value.minors.length>=4?d.value.minors[3].value=S:d.value.minors.push(new Q({key:"atk",value:S})),f()}}),T=k(()=>g.value.location!=d.value.location&&d.value.location&&v[d.value.location][d.value.slot]),D=k(()=>{if(T.value){let S=P.character[d.value.location];return g.value.location?`\u5C06\u4E0E ${S} \u7684\u5723\u9057\u7269\u5BF9\u8C03`:`\u5C06\u66FF\u6362 ${S} \u7684\u5723\u9057\u7269`}else return""}),x=()=>{a.dispatch("updArtifact",{index:e.index,newArt:d.value,toSwap:T.value}),t("update:modelValue",!1)};return(S,A)=>{const z=ze,L=Ke,Z=Re,pe=Yt,me=Ie,fe=Ye,O=$e,Ue=ve,Pe=he;return y(),N(Pe,{modelValue:i(u),"onUpdate:modelValue":A[10]||(A[10]=V=>U(u)?u.value=V:null),title:"\u5C5E\u6027\u7F16\u8F91\u5668",top:"8vh"},{default:r(()=>[o(z,null,{default:r(()=>[su]),_:1}),o(O,{gutter:20},{default:r(()=>[o(L,{span:3},{default:r(()=>[ou]),_:1}),o(L,{span:9},{default:r(()=>[o(me,{modelValue:i(h),"onUpdate:modelValue":A[0]||(A[0]=V=>U(h)?h.value=V:null)},{default:r(()=>[(y(!0),w(G,null,H(i(s),V=>(y(),N(pe,{label:V.label},{default:r(()=>[(y(!0),w(G,null,H(V.options,W=>(y(),N(Z,{value:W.value,label:W.label},null,8,["value","label"]))),256))]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(L,{span:3},{default:r(()=>[nu]),_:1}),o(L,{span:9},{default:r(()=>[o(fe,{modelValue:i(C),"onUpdate:modelValue":A[1]||(A[1]=V=>U(C)?C.value=V:null),min:0,max:20},null,8,["modelValue"])]),_:1})]),_:1}),o(z,null,{default:r(()=>[ru]),_:1}),o(O,{gutter:20},{default:r(()=>[o(L,{span:12},{default:r(()=>[o(me,{modelValue:i(F),"onUpdate:modelValue":A[2]||(A[2]=V=>U(F)?F.value=V:null)},{default:r(()=>[(y(!0),w(G,null,H(i(n),V=>(y(),N(Z,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(L,{span:12},{default:r(()=>[o(fe,{modelValue:i(b),"onUpdate:modelValue":A[3]||(A[3]=V=>U(b)?b.value=V:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(O,{gutter:20},{default:r(()=>[o(L,{span:12},{default:r(()=>[o(me,{modelValue:i(B),"onUpdate:modelValue":A[4]||(A[4]=V=>U(B)?B.value=V:null)},{default:r(()=>[(y(!0),w(G,null,H(i(n),V=>(y(),N(Z,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(L,{span:12},{default:r(()=>[o(fe,{modelValue:i(_),"onUpdate:modelValue":A[5]||(A[5]=V=>U(_)?_.value=V:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(O,{gutter:20},{default:r(()=>[o(L,{span:12},{default:r(()=>[o(me,{modelValue:i(m),"onUpdate:modelValue":A[6]||(A[6]=V=>U(m)?m.value=V:null)},{default:r(()=>[(y(!0),w(G,null,H(i(n),V=>(y(),N(Z,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(L,{span:12},{default:r(()=>[o(fe,{modelValue:i(E),"onUpdate:modelValue":A[7]||(A[7]=V=>U(E)?E.value=V:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(O,{gutter:20},{default:r(()=>[o(L,{span:12},{default:r(()=>[o(me,{modelValue:i(I),"onUpdate:modelValue":A[8]||(A[8]=V=>U(I)?I.value=V:null)},{default:r(()=>[o(Z,{label:"\u7A7A",value:""}),(y(!0),w(G,null,H(i(n),V=>(y(),N(Z,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(L,{span:12},{default:r(()=>[o(fe,{modelValue:i(R),"onUpdate:modelValue":A[9]||(A[9]=V=>U(R)?R.value=V:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(z,null,{default:r(()=>[iu]),_:1}),o(O,{justify:"center"},{default:r(()=>[o(Ae,{artifact:g.value,readonly:!0},null,8,["artifact"]),te(p("div",du,"\u21D2",512),[[ae,c.value]]),te(o(Ae,{artifact:d.value,readonly:!0},null,8,["artifact"]),[[ae,c.value]])]),_:1}),p("p",cu,M(i(D)),1),o(O,{justify:"center",style:{"margin-top":"30px"}},{default:r(()=>[o(Ue,{type:"primary",onClick:x},{default:r(()=>[pu]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const dt=l=>(_e("data-v-a0cdc14e"),l=l(),ge(),l),fu={class:"num-wrapper"},hu={class:"num"},vu={class:"desc"},_u={class:"value"},gu={class:"num"},Bu={class:"desc"},yu={class:"value"},Cu={class:"num"},ku={class:"desc"},Fu={class:"value"},bu=dt(()=>p("div",{class:"row"},"\u8C03\u6574\u7B49\u7EA7\u{1F447}",-1)),Eu={class:"row"},wu=dt(()=>p("div",{class:"row"},"\u8C03\u6574\u4E2A\u6570\u{1F447}",-1)),Du={class:"row"},Vu=dt(()=>p("div",{class:"row"},"\u66F4\u591A\u529F\u80FD\u6B63\u5728\u5F00\u53D1\u4E2D...",-1)),Au=Y({props:{modelValue:{type:Boolean},art:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k({get(){return e.modelValue},set(R){t("update:modelValue",R)}}),u=le(),s=R=>u.state.artMode.useMaxAsUnit?(R/10).toFixed(1):(R/8.5).toFixed(1),n=R=>(R*100).toFixed(1)+"%";let v=$([]),c=[];const d=$("20"),f=$("0.0"),g=R=>{for(let T of v.value)if(T.label==R){d.value=R,h.value.series[0].data=T.data,c=rt(T.data),f.value=s(Et(T.data));return}};let h=$({tooltip:{trigger:"axis",formatter:R=>{let{dataIndex:T,value:D}=R[0];return`<table>
                <tr><td>\u8BCD\u6761\u6570\uFF1A</td><td>${s(T)}</td><tr>
                <tr><td>\u6982\u7387\uFF1A</td><td>${n(D)}</td><tr>
                <tr><td>1-\u7D2F\u79EF\u6982\u7387\uFF1A</td><td>${n(1-c[T])}</td><tr>
            <table>`}},title:{left:"center",text:"\u8BCD\u6761\u6570\u6982\u7387\u5206\u5E03"},toolbox:{feature:{saveAsImage:{},dataView:{}}},xAxis:{type:"category",name:"\u8BCD\u6761\u6570",nameLocation:"middle",nameGap:25,boundaryGap:!1,data:[]},yAxis:{type:"value",name:"\u6982\u7387"},series:[{name:"\u6982\u7387",type:"line",symbol:"none",smooth:!0,itemStyle:{color:"rgb(255, 70, 131)"},areaStyle:{color:new pt(0,0,0,1,[{offset:0,color:"rgb(255, 136, 175)"},{offset:1,color:"#fff"}])},data:[]}]}),C=[],F=[];const b=["5","10","20","50","100","200"],B=$("100"),_=$("0.0"),m=$("0.0%"),E=R=>{for(let T of C)if(T.label==R){B.value=R,I.value.series[0].data=T.data,F=rt(T.data),_.value=s(Et(T.data));for(let D of v.value)if(D.label=="20"){m.value=n(D.data.reduce((x,S,A)=>x+S*F[A],0));break}return}},I=$({tooltip:{trigger:"axis",formatter:R=>{let{dataIndex:T,value:D}=R[0];return`<table>
                <tr><td>\u8BCD\u6761\u6570\uFF1A</td><td>${s(T)}</td><tr>
                <tr><td>\u6982\u7387\uFF1A</td><td>${n(D)}</td><tr>
                <tr><td>1-\u7D2F\u79EF\u6982\u7387\uFF1A</td><td>${n(1-F[T])}</td><tr>
            <table>`}},title:{left:"center",text:"\u540C\u7C7B\u6700\u4F73\u6EE1\u7EA7\u5723\u9057\u7269\u8BCD\u6761\u6570\u6982\u7387\u5206\u5E03"},toolbox:{feature:{saveAsImage:{},dataView:{}}},xAxis:{type:"category",name:"\u8BCD\u6761\u6570",nameLocation:"middle",nameGap:25,boundaryGap:!1,data:[]},yAxis:{type:"value",name:"\u6982\u7387"},series:[{name:"\u6982\u7387",type:"line",symbol:"none",smooth:!0,itemStyle:{color:"rgb(255, 70, 131)"},areaStyle:{color:new pt(0,0,0,1,[{offset:0,color:"rgb(255, 136, 175)"},{offset:1,color:"#fff"}])},data:[]}]});return we(()=>e.modelValue,R=>{if(!R||!e.art)return;v.value=[];let T=Math.floor(e.art.level/4),D=Math.round(e.art.data.affnum.cur*8.5);for(let A=T;A<=5;++A){let z=A<5?`${A*4} +`:"20",L=bl(e.art.mainKey,u.state.weightInUse,e.art.minors.map(Z=>Z.key),A-T);L=Ve(D).concat(L),v.value.push({label:z,data:L})}F=Dt(e.art.mainKey,u.state.weightInUse,5);let x=j.mainDistr[e.art.slot][e.art.mainKey]/5;C=b.map(A=>{let z=parseInt(A);return{label:A,data:kl(F.map(L=>(x*L+1-x)**z))}});let S=90;h.value.xAxis.data=[];for(let A=0;A<S;++A)h.value.xAxis.data.push(s(A));I.value.xAxis.data=h.value.xAxis.data,v.value.forEach(A=>{for(;A.data.length<S;)A.data.push(0)}),C.forEach(A=>{for(;A.data.length<S;)A.data.push(0)}),g("20"),E("100")}),(R,T)=>{const D=ze,x=qt("v-chart"),S=Jt,A=mt,z=he;return y(),N(z,{title:"\u7EDF\u8BA1",modelValue:i(a),"onUpdate:modelValue":T[2]||(T[2]=L=>U(a)?a.value=L:null),top:"2vh",width:"90%"},{default:r(()=>[p("div",fu,[p("div",hu,[p("div",vu,"\u5F53\u524D\u5723\u9057\u7269"+M(d.value)+"\u7EA7\u671F\u671B\u8BCD\u6761\u6570",1),p("div",_u,M(f.value),1)]),p("div",gu,[p("div",Bu,M(B.value)+"\u4E2A\u5723\u9057\u7269\u4E2D\u6700\u4F73\u6EE1\u7EA7\u540C\u7C7B\u5723\u9057\u7269\u671F\u671B\u8BCD\u6761\u6570",1),p("div",yu,M(_.value),1)]),p("div",Cu,[p("div",ku,M(B.value)+"\u4E2A\u5723\u9057\u7269\u4E2D\u5F53\u524D\u5723\u9057\u7269\u6EE1\u7EA7\u65F6\u6700\u4F73\u7684\u6982\u7387",1),p("div",Fu,M(m.value),1)])]),o(D),o(x,{option:i(h),class:"chart",autoresize:""},null,8,["option"]),bu,p("div",Eu,[o(A,{modelValue:d.value,"onUpdate:modelValue":T[0]||(T[0]=L=>d.value=L),onChange:g},{default:r(()=>[(y(!0),w(G,null,H(i(v),L=>(y(),N(S,{label:L.label},null,8,["label"]))),256))]),_:1},8,["modelValue"])]),o(D),o(x,{option:I.value,class:"chart",autoresize:""},null,8,["option"]),wu,p("div",Du,[o(A,{modelValue:B.value,"onUpdate:modelValue":T[1]||(T[1]=L=>B.value=L),onChange:E},{default:r(()=>[(y(),w(G,null,H(b,L=>o(S,{label:L},null,8,["label"])),64))]),_:1},8,["modelValue"])]),o(D),Vu]),_:1},8,["modelValue"])}}});var Su=ue(Au,[["__scopeId","data-v-a0cdc14e"]]);const xu=K("\u4E3B\u8981\u5C5E\u6027"),$u=p("span",null,"\u5957\u88C5",-1),Ou=p("span",null,"\u4E3B\u8BCD\u6761",-1),Tu=p("span",null,"\u90E8\u4F4D",-1),Mu=p("span",null,"\u7B49\u7EA7",-1),Uu=K("\u526F\u8BCD\u6761"),Ku=K("\u9884\u89C8"),Ru=K("\u6DFB\u52A0"),Iu=Y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(D){t("update:modelValue",D)}}),s=j.minorKeys.map(D=>({value:D,label:P.affix[D]})),n=$(new ce({slot:"flower",mainKey:"hp"})),v=()=>{n.value.updateAffnum(a.state.weightInUse)},c=Object.entries(P.set).map(([D,x])=>({value:D,label:x})),d=Object.entries(P.slot).map(([D,x])=>({value:D,label:x})),f=k({get(){return n.value.slot},set(D){n.value.slot=D,j.mainKeys[D].includes(n.value.mainKey)||(n.value.mainKey=j.mainKeys[D][0])}}),g=k(()=>n.value.slot in j.mainKeys?j.mainKeys[n.value.slot].map(D=>({value:D,label:P.affix[D]})):[]),h=k({get(){return n.value.level},set(D){n.value.level=D,v()}}),C=k({get(){return n.value.minors.length>=1?n.value.minors[0].key:""},set(D){n.value.minors.length>=1?n.value.minors[0].key=D:n.value.minors.push(new Q({key:D,value:0})),v()}}),F=k({get(){return n.value.minors.length>=1?n.value.minors[0].value:0},set(D){n.value.minors.length>=1?n.value.minors[0].value=D:n.value.minors.push(new Q({key:"atk",value:D})),v()}}),b=k({get(){return n.value.minors.length>=2?n.value.minors[1].key:""},set(D){n.value.minors.length>=2?n.value.minors[1].key=D:n.value.minors.push(new Q({key:D,value:0})),v()}}),B=k({get(){return n.value.minors.length>=2?n.value.minors[1].value:0},set(D){n.value.minors.length>=2?n.value.minors[1].value=D:n.value.minors.push(new Q({key:"atk",value:D})),v()}}),_=k({get(){return n.value.minors.length>=3?n.value.minors[2].key:""},set(D){n.value.minors.length>=3?n.value.minors[2].key=D:n.value.minors.push(new Q({key:D,value:0})),v()}}),m=k({get(){return n.value.minors.length>=3?n.value.minors[2].value:0},set(D){n.value.minors.length>=3?n.value.minors[2].value=D:n.value.minors.push(new Q({key:"atk",value:D})),v()}}),E=k({get(){return n.value.minors.length>=4?n.value.minors[3].key:""},set(D){D==""?n.value.minors.length==4&&n.value.minors.pop():n.value.minors.length>=4?n.value.minors[3].key=D:n.value.minors.push(new Q({key:D,value:0})),v()}}),I=k({get(){return n.value.minors.length>=4?n.value.minors[3].value:0},set(D){n.value.minors.length>=4?n.value.minors[3].value=D:n.value.minors.push(new Q({key:"atk",value:D})),v()}}),R=k(()=>n.value.set in P.set&&n.value.minors.length>=3),T=()=>{let D=new ce({set:n.value.set,slot:n.value.slot,level:n.value.level,mainKey:n.value.mainKey,minors:n.value.minors.map(x=>new Q(x))});a.dispatch("addArtifacts",{artifacts:[D]}),t("update:modelValue",!1)};return(D,x)=>{const S=ze,A=Ke,z=Re,L=Ie,Z=$e,pe=Ye,me=ve,fe=he;return y(),N(fe,{modelValue:i(u),"onUpdate:modelValue":x[12]||(x[12]=O=>U(u)?u.value=O:null),title:"\u624B\u52A8\u6DFB\u52A0\u5723\u9057\u7269",top:"8vh"},{default:r(()=>[o(S,null,{default:r(()=>[xu]),_:1}),o(Z,{gutter:20},{default:r(()=>[o(A,{span:3},{default:r(()=>[$u]),_:1}),o(A,{span:9},{default:r(()=>[o(L,{modelValue:n.value.set,"onUpdate:modelValue":x[0]||(x[0]=O=>n.value.set=O)},{default:r(()=>[(y(!0),w(G,null,H(i(c),O=>(y(),N(z,{value:O.value,label:O.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(A,{span:3},{default:r(()=>[Ou]),_:1}),o(A,{span:9},{default:r(()=>[o(L,{modelValue:n.value.mainKey,"onUpdate:modelValue":x[1]||(x[1]=O=>n.value.mainKey=O)},{default:r(()=>[(y(!0),w(G,null,H(i(g),O=>(y(),N(z,{value:O.value,label:O.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(Z,{gutter:20},{default:r(()=>[o(A,{span:3},{default:r(()=>[Tu]),_:1}),o(A,{span:9},{default:r(()=>[o(L,{modelValue:i(f),"onUpdate:modelValue":x[2]||(x[2]=O=>U(f)?f.value=O:null)},{default:r(()=>[(y(!0),w(G,null,H(i(d),O=>(y(),N(z,{value:O.value,label:O.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(A,{span:3},{default:r(()=>[Mu]),_:1}),o(A,{span:9},{default:r(()=>[o(pe,{modelValue:i(h),"onUpdate:modelValue":x[3]||(x[3]=O=>U(h)?h.value=O:null),min:0,max:20},null,8,["modelValue"])]),_:1})]),_:1}),o(S,null,{default:r(()=>[Uu]),_:1}),o(Z,{gutter:20},{default:r(()=>[o(A,{span:12},{default:r(()=>[o(L,{modelValue:i(C),"onUpdate:modelValue":x[4]||(x[4]=O=>U(C)?C.value=O:null)},{default:r(()=>[(y(!0),w(G,null,H(i(s),O=>(y(),N(z,{label:O.label,value:O.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(A,{span:12},{default:r(()=>[o(pe,{modelValue:i(F),"onUpdate:modelValue":x[5]||(x[5]=O=>U(F)?F.value=O:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(Z,{gutter:20},{default:r(()=>[o(A,{span:12},{default:r(()=>[o(L,{modelValue:i(b),"onUpdate:modelValue":x[6]||(x[6]=O=>U(b)?b.value=O:null)},{default:r(()=>[(y(!0),w(G,null,H(i(s),O=>(y(),N(z,{label:O.label,value:O.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(A,{span:12},{default:r(()=>[o(pe,{modelValue:i(B),"onUpdate:modelValue":x[7]||(x[7]=O=>U(B)?B.value=O:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(Z,{gutter:20},{default:r(()=>[o(A,{span:12},{default:r(()=>[o(L,{modelValue:i(_),"onUpdate:modelValue":x[8]||(x[8]=O=>U(_)?_.value=O:null)},{default:r(()=>[(y(!0),w(G,null,H(i(s),O=>(y(),N(z,{label:O.label,value:O.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(A,{span:12},{default:r(()=>[o(pe,{modelValue:i(m),"onUpdate:modelValue":x[9]||(x[9]=O=>U(m)?m.value=O:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(Z,{gutter:20},{default:r(()=>[o(A,{span:12},{default:r(()=>[o(L,{modelValue:i(E),"onUpdate:modelValue":x[10]||(x[10]=O=>U(E)?E.value=O:null)},{default:r(()=>[o(z,{label:"\u7A7A",value:""}),(y(!0),w(G,null,H(i(s),O=>(y(),N(z,{label:O.label,value:O.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(A,{span:12},{default:r(()=>[o(pe,{modelValue:i(I),"onUpdate:modelValue":x[11]||(x[11]=O=>U(I)?I.value=O:null),precision:1},null,8,["modelValue"])]),_:1})]),_:1}),o(S,null,{default:r(()=>[Ku]),_:1}),o(Z,{justify:"center"},{default:r(()=>[o(Ae,{artifact:n.value,readonly:!0},null,8,["artifact"])]),_:1}),o(Z,{justify:"center",style:{"margin-top":"30px"}},{default:r(()=>[o(me,{type:"primary",disabled:!i(R),onClick:T},{default:r(()=>[Ru]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}}),Nu=p("span",null,"\u5957\u88C5",-1),Gu=p("span",null,"\u90E8\u4F4D",-1),Lu=p("span",null,"\u4E3B\u8BCD\u6761",-1),ju=p("span",null,"\u7B49\u7EA7",-1),Pu=p("span",null,"\u4E2A\u6570",-1),Wu=K("\u751F\u6210"),Hu=Y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(b){t("update:modelValue",b)}});j.minorKeys.map(b=>({value:b,label:P.affix[b]}));const s=Object.entries(P.set).map(([b,B])=>({value:b,label:B})),n=$([]),v=Object.entries(P.slot).map(([b,B])=>({value:b,label:B})),c=$("");we(c,()=>{c.value in j.mainKeys&&j.mainKeys[c.value].includes(f.value)||(f.value="")});const d=k(()=>c.value in j.mainKeys?j.mainKeys[c.value].map(b=>({value:b,label:P.affix[b]})):[]),f=$(""),g=$(0),h=$(1),C=k(()=>n.value.length),F=()=>{let b=[];for(let B=0;B<h.value;++B)b.push(ce.rand({sets:n.value,slot:c.value,mainKey:f.value,level:g.value}));a.dispatch("addArtifacts",{artifacts:b}),t("update:modelValue",!1)};return(b,B)=>{const _=Ke,m=Re,E=Ie,I=$e,R=Ye,T=ve,D=he;return y(),N(D,{modelValue:i(u),"onUpdate:modelValue":B[5]||(B[5]=x=>U(u)?u.value=x:null),title:"\u968F\u673A\u5723\u9057\u7269\u751F\u6210\u5668",top:"8vh"},{default:r(()=>[o(I,{gutter:20},{default:r(()=>[o(_,{span:3},{default:r(()=>[Nu]),_:1}),o(_,{span:21},{default:r(()=>[o(E,{modelValue:n.value,"onUpdate:modelValue":B[0]||(B[0]=x=>n.value=x),multiple:"",clearable:"",style:{width:"100%"}},{default:r(()=>[(y(!0),w(G,null,H(i(s),x=>(y(),N(m,{value:x.value,label:x.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(I,{gutter:20},{default:r(()=>[o(_,{span:3},{default:r(()=>[Gu]),_:1}),o(_,{span:9},{default:r(()=>[o(E,{modelValue:c.value,"onUpdate:modelValue":B[1]||(B[1]=x=>c.value=x)},{default:r(()=>[o(m,{value:"",label:"\u4EFB\u610F"}),(y(!0),w(G,null,H(i(v),x=>(y(),N(m,{value:x.value,label:x.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(_,{span:3},{default:r(()=>[Lu]),_:1}),o(_,{span:9},{default:r(()=>[o(E,{modelValue:f.value,"onUpdate:modelValue":B[2]||(B[2]=x=>f.value=x)},{default:r(()=>[o(m,{value:"",label:"\u4EFB\u610F"}),(y(!0),w(G,null,H(i(d),x=>(y(),N(m,{value:x.value,label:x.label},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(I,{gutter:20},{default:r(()=>[o(_,{span:3},{default:r(()=>[ju]),_:1}),o(_,{span:9},{default:r(()=>[o(R,{modelValue:g.value,"onUpdate:modelValue":B[3]||(B[3]=x=>g.value=x),min:0,max:20},null,8,["modelValue"])]),_:1}),o(_,{span:3},{default:r(()=>[Pu]),_:1}),o(_,{span:9},{default:r(()=>[o(R,{modelValue:h.value,"onUpdate:modelValue":B[4]||(B[4]=x=>h.value=x),min:1},null,8,["modelValue"])]),_:1})]),_:1}),o(I,{justify:"center",style:{"margin-top":"30px"}},{default:r(()=>[o(T,{type:"primary",disabled:!i(C),onClick:F},{default:r(()=>[Wu]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}});var Ot={keymap:{set:{GladiatorsFinale:"gladiatorFinale",WanderersTroupe:"wandererTroupe",Thundersoother:"thunderSmoother",ThunderingFury:"thunderingFury",MaidenBeloved:"maidenBeloved",ViridescentVenerer:"viridescentVenerer",CrimsonWitchOfFlames:"crimsonWitch",Lavawalker:"lavaWalker",NoblesseOblige:"noblesseOblige",BloodstainedChivalry:"bloodstainedChivalry",ArchaicPetra:"archaicPetra",RetracingBolide:"retracingBolide",BlizzardStrayer:"blizzardStrayer",HeartOfDepth:"heartOfDepth",TenacityOfTheMillelith:"tenacityOfTheMillelith",PaleFlame:"paleFlame",ShimenawasReminiscence:"shimenawaReminiscence",EmblemOfSeveredFate:"emblemOfSeveredFate",HuskOfOpulentDreams:"huskOfOpulentDreams",OceanHuedClam:"oceanHuedClam",VermillionHereafter:"VermillionHereafter",EchoesOfAnOffering:"EchoesOfAnOffering",DeepwoodMemories:"DeepwoodMemories",GildedDreams:"GildedDreams"},affix:{hp:"lifeStatic",atk:"attackStatic",def:"defendStatic",hpp:"lifePercentage",atkp:"attackPercentage",defp:"defendPercentage",em:"elementalMastery",er:"recharge",hb:"cureEffect",cr:"critical",cd:"criticalDamage",pyroDB:"fireBonus",hydroDB:"waterBonus",electroDB:"thunderBonus",anemoDB:"windBonus",cryoDB:"iceBonus",geoDB:"rockBonus",physicalDB:"physicalBonus",dendroDB:"dendroBonus"},slot:{flower:"flower",plume:"feather",sands:"sand",goblet:"cup",circlet:"head"}},getAffix(l,t){return l=ne(l,this.keymap.affix),["hp","atk","def","em"].includes(l)||(t=t*100,t=parseFloat(t.toFixed(1))),new Q({key:l,value:t})},loads(l){let t=JSON.parse(l);Be(t instanceof Object);let e=[];const a=["flower","feather","sand","cup","head"];for(let u of a){Be(u in t&&t[u]instanceof Array);for(let s of t[u]){if(s.star!==5)continue;let n=ne(s.setName,this.keymap.set);if(!n){console.warn(`Ignoring unrecognized artifact: ${s.setName}`);continue}let v=new ce;v.set=n,v.slot=ne(u,this.keymap.slot),v.level=s.level,v.rarity=s.star,v.mainKey=ne(s.mainTag.name,this.keymap.affix);for(let c of s.normalTags)v.minors.push(this.getAffix(c.name,c.value));v.data.index=e.length,v.data.source="*/mona",e.push(v)}}return e},dumps(l){let t={flower:[],feather:[],sand:[],cup:[],head:[]};for(let e of l){let a=this.keymap.slot[e.slot];t[a].push({setName:this.keymap.set[e.set],position:a,mainTag:{name:this.keymap.affix[e.mainKey],value:["hp","atk","em"].includes(e.mainKey)?j.mainStat[e.mainKey][e.level]:j.mainStat[e.mainKey][e.level]/100},normalTags:e.minors.map(u=>({name:this.keymap.affix[u.key],value:["hp","atk","def","em"].includes(u.key)?u.value:u.value/100})),omit:!1,star:e.rarity,level:e.level})}return JSON.stringify(t)}},Tt={keymap:{set:{GladiatorsFinale:"gladiators_finale",WanderersTroupe:"wanderers_troupe",Thundersoother:"thundersoother",ThunderingFury:"thundering_fury",MaidenBeloved:"maiden_beloved",ViridescentVenerer:"viridescent_venerer",CrimsonWitchOfFlames:"crimson_witch_of_flames",Lavawalker:"lavawalker",NoblesseOblige:"noblesse_oblige",BloodstainedChivalry:"bloodstained_chivalry",ArchaicPetra:"archaic_petra",RetracingBolide:"retracing_bolide",BlizzardStrayer:"blizzard_walker",HeartOfDepth:"heart_of_depth",TenacityOfTheMillelith:"tenacity_of_the_millelith",PaleFlame:"pale_flame",ShimenawasReminiscence:"reminiscence_of_shime",EmblemOfSeveredFate:"seal_of_insulation",HuskOfOpulentDreams:"husk_of_opulent_dreams",OceanHuedClam:"divine_chorus",VermillionHereafter:"vermillion_hereafter",EchoesOfAnOffering:"echoes_of_an_offering",DeepwoodMemories:"deepwood_memories",GildedDreams:"gilded_dreams"},affix:{hp:"flatHP",atk:"flatATK",def:"flatDEF",hpp:"percentHP",atkp:"percentATK",defp:"percentDEF",em:"elementalMastery",er:"energyRecharge",hb:"healing",cr:"critRate",cd:"critDamage",pyroDB:"pyroDamage",hydroDB:"hydroDamage",electroDB:"electroDamage",anemoDB:"anemoDamage",cryoDB:"cryoDamage",geoDB:"geoDamage",physicalDB:"physicalDamage",dendroDB:"dendroDamage"},slot:{flower:"flower",plume:"plume",sands:"eon",goblet:"goblet",circlet:"circlet"}},getSubStatType(l,t){return t<l.minors.length?this.keymap.affix[l.minors[t].key]:"flatATK"},getSubStatValue(l,t){return t<l.minors.length?l.minors[t].value:0},loads(l){let t=JSON.parse(l);Be(t instanceof Array);let e=[];for(let a of t){if(a.rarity!==5)continue;let u=ne(a.asKey,this.keymap.set);if(!u){console.warn(`Ignoring unrecognized artifact: ${a.asKey}`);continue}let s=new ce;s.set=u,s.slot=ne(a.slot,this.keymap.slot),s.level=a.level,s.rarity=a.rarity,s.mainKey=ne(a.mainStat,this.keymap.affix),s.minors.push(new Q({key:ne(a.subStat1Type,this.keymap.affix),value:a.subStat1Value})),s.minors.push(new Q({key:ne(a.subStat2Type,this.keymap.affix),value:a.subStat2Value})),s.minors.push(new Q({key:ne(a.subStat3Type,this.keymap.affix),value:a.subStat3Value})),a.subStat4Value&&s.minors.push(new Q({key:ne(a.subStat4Type,this.keymap.affix),value:a.subStat4Value})),s.data.index=e.length,s.data.source="*/genmo",e.push(s)}return e},dumps(l){let t=[];for(let e of l)t.push({asKey:this.keymap.set[e.set],rarity:e.rarity,slot:this.keymap.slot[e.slot],level:e.level,mainStat:this.keymap.affix[e.mainKey],subStat1Type:this.getSubStatType(e,0),subStat1Value:this.getSubStatValue(e,0),subStat2Type:this.getSubStatType(e,1),subStat2Value:this.getSubStatValue(e,1),subStat3Type:this.getSubStatType(e,2),subStat3Value:this.getSubStatValue(e,2),subStat4Type:this.getSubStatType(e,3),subStat4Value:this.getSubStatValue(e,3)});return JSON.stringify(t)}};const zu=K("\u83AB\u5A1C\u5360\u535C\u94FA"),Yu=K("\u539F\u9B54\u8BA1\u7B97\u5668"),qu=K("Genshin Optimizer"),Ju={style:{"margin-top":"10px"}},Xu={style:{"margin-top":"10px"}},Qu={style:{"margin-top":"10px","text-align":"center"}},Zu=K("\u4E0B\u8F7D"),ea=K("\u590D\u5236"),ta=Y({props:{modelValue:{type:Boolean},artifacts:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k({get(){return e.modelValue},set(d){t("update:modelValue",d)}}),u=$("mona"),s=k(()=>{switch(n.value="",u.value){case"mona":return Ot.dumps(e.artifacts);case"genmo":return Tt.dumps(e.artifacts);case"good":return it.dumps(e.artifacts);default:return"\u672A\u77E5\u683C\u5F0F"}}),n=$(""),v=()=>{gt(s.value,u.value+".json")},c=()=>{navigator.clipboard.writeText(s.value).then(()=>{n.value="\u590D\u5236\u6210\u529F"},()=>{n.value="\u590D\u5236\u5931\u8D25"})};return(d,f)=>{const g=Xt,h=mt,C=ve,F=he;return y(),N(F,{title:"\u5BFC\u51FA\u5723\u9057\u7269",modelValue:i(a),"onUpdate:modelValue":f[2]||(f[2]=b=>U(a)?a.value=b:null)},{default:r(()=>[p("div",null,[o(h,{modelValue:u.value,"onUpdate:modelValue":f[0]||(f[0]=b=>u.value=b)},{default:r(()=>[o(g,{label:"mona"},{default:r(()=>[zu]),_:1}),o(g,{label:"genmo"},{default:r(()=>[Yu]),_:1}),o(g,{label:"good"},{default:r(()=>[qu]),_:1})]),_:1},8,["modelValue"])]),p("div",Ju,[o(i(Qt),{ref:"exportArea",type:"textarea",rows:8,resize:"none",modelValue:i(s),"onUpdate:modelValue":f[1]||(f[1]=b=>U(s)?s.value=b:null)},null,8,["modelValue"])]),p("div",Xu,M(n.value),1),p("div",Qu,[o(C,{icon:i(ft),onClick:v},{default:r(()=>[Zu]),_:1},8,["icon"]),o(C,{icon:i(Zt),type:"primary",onClick:c},{default:r(()=>[ea]),_:1},8,["icon"])])]),_:1},8,["modelValue"])}}});const la={class:"small-title",style:{"margin-top":"10px"}},ua=["infinite-scroll-disabled"],aa={style:{"margin-top":"10px","text-align":"center"}},sa=Y({props:{modelValue:{type:Boolean},index:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(b){t("update:modelValue",b)}}),s=$([]),n=$(0),v=()=>{n.value<s.value.length&&(n.value=Math.min(s.value.length,n.value+10))},c=k(()=>n.value>=s.value.length);function d(b,B){for(let _ of b)if(!B.has(_))return!1;return!0}let f=new Set(["hp","atk","def"]);we(()=>e.modelValue,b=>{if(!b)return;let B;for(let m of a.state.artifacts)if(m.data.index==e.index){B=m;break}if(B==null){t("update:modelValue",!1);return}g.value=B.lock,B.lock;let _=new Set(B.minors.map(m=>m.key).filter(m=>!f.has(m)));s.value=[];for(let m of a.state.artifacts){if(m.data.index==e.index||m.mainKey!=B.mainKey||m.lock==B.lock)continue;let E=new Set(m.minors.map(I=>I.key).filter(I=>!f.has(I)));B.lock?d(_,E)&&s.value.push(m):d(E,_)&&s.value.push(m)}n.value=Math.min(s.value.length,10),s.value.length==0&&t("update:modelValue",!1)});const g=$(!1),h=k(()=>`\u4F60\u53EF\u80FD\u8FD8\u60F3${g.value?"\u52A0\u9501":"\u89E3\u9501"}\u4EE5\u4E0B\u5723\u9057\u7269\uFF08\u5171${s.value.length}\u4E2A\uFF09`),C=k(()=>g.value?"\u5168\u90E8\u52A0\u9501":"\u5168\u90E8\u89E3\u9501"),F=()=>{a.dispatch("setLock",{lock:g.value,indices:s.value.map(b=>b.data.index)}),t("update:modelValue",!1)};return(b,B)=>{const _=ve,m=he,E=ht;return y(),N(m,{title:"\u5723\u9057\u7269\u8054\u60F3",modelValue:i(u),"onUpdate:modelValue":B[0]||(B[0]=I=>U(u)?u.value=I:null),top:"8vh"},{default:r(()=>[p("div",la,M(i(h)),1),te((y(),w("div",{class:"preview-artifact-list","infinite-scroll-immediate":!1,"infinite-scroll-disabled":i(c)},[(y(!0),w(G,null,H(n.value,I=>(y(),N(Ae,{artifact:s.value[I-1],key:s.value[I-1].data.index,readonly:!0},null,8,["artifact"]))),128))],8,ua)),[[E,v]]),p("div",aa,[o(_,{type:"primary",onClick:F},{default:r(()=>[K(M(i(C)),1)]),_:1})])]),_:1},8,["modelValue"])}}});const Se=l=>(_e("data-v-7d93e1f1"),l=l(),ge(),l),oa={class:"layout-left"},na={class:"artifact-opts"},ra={class:"stat"},ia={class:"btns"},da=Se(()=>p("span",null,"\u5012\u5E8F",-1)),ca=Se(()=>p("span",null,"\u8054\u60F3",-1)),pa=Se(()=>p("span",null,"\xD70.85",-1)),ma=Se(()=>p("span",null,"\u663E\u793A\u8BCD\u6761\u6570",-1)),fa={class:"selection-bar"},ha=Se(()=>p("div",{class:"split"},"|",-1)),va=Se(()=>p("div",{class:"split"},"|",-1)),_a=Se(()=>p("div",{class:"split"},"|",-1)),ga={class:"selection-stat"},Ba=Y({setup(l){const t=le(),e=k(()=>{let V=t.state.filteredArtifacts.length,W=0,ee=0;for(let de of t.state.filteredArtifacts)de.level==20&&W++,de.lock&&ee++;return`\u5171${V}\u4E2A \u6EE1\u7EA7${W}\u4E2A \u52A0\u9501${ee}\u4E2A \u89E3\u9501${V-ee}\u4E2A`}),a=V=>{t.dispatch("flipLock",{index:V}),O.value&&(Pe.value=V,Ue.value=!0)},u=$(!1),s=$([]),n=k(()=>new Set(s.value)),v=V=>n.value.has(V),c={index:0,selected:!0},d=(V,W)=>{if(!u.value)u.value=!0,s.value=[V],c.index=V,c.selected=!0;else if(W){if(V!==c.index){let ee=n.value,de=0,q=[V,c.index];for(let xe of t.state.filteredArtifacts){let Qe=!1;if(de==0&&q.includes(xe.data.index)&&(de=1,Qe=!0),de==1&&(c.selected?ee.add(xe.data.index):ee.delete(xe.data.index),!Qe&&q.includes(xe.data.index)))break}s.value=Array.from(ee)}}else{let ee=n.value,de;ee.has(V)?(ee.delete(V),de=!1):(ee.add(V),de=!0),s.value=Array.from(ee),c.index=V,c.selected=de}},f=()=>{s.value=[];for(let V of t.state.filteredArtifacts)s.value.push(V.data.index)},g=()=>{let V=new Set;for(let W of t.state.filteredArtifacts)V.add(W.data.index);for(let W of s.value)V.delete(W);s.value=Array.from(V)},h=()=>{t.dispatch("setLock",{lock:!0,indices:s.value}),s.value=[]},C=()=>{t.dispatch("setLock",{lock:!1,indices:s.value}),s.value=[]},F=()=>{t.dispatch("delArtifacts",{indices:s.value}),s.value=[]},b=()=>{u.value=!1,setTimeout(()=>{s.value=[]},100)},B=k(()=>`\u5DF2\u9009\u4E2D ${s.value.length}/${t.state.filteredArtifacts.length}`),_=$(!1),m=$(-1),E=V=>{m.value=V,_.value=!0},I=$(!1),R=$(),T=V=>{R.value=V,I.value=!0},D=$(!1),x=$([]),S=()=>{x.value=t.state.filteredArtifacts.filter(V=>n.value.has(V.data.index)),D.value=!0},A=$(!1);we(A,()=>{t.dispatch("reload")});const z=k(()=>A.value?t.state.filteredArtifacts.slice().reverse():t.state.filteredArtifacts),L=async(V,W)=>z.value.slice(V*W,(V+1)*W),Z=k({get(){return t.state.artMode.useMaxAsUnit},set(V){t.commit("setArtMode",{useMaxAsUnit:V})}}),pe=k({get(){return t.state.artMode.showAffnum},set(V){t.commit("setArtMode",{showAffnum:V})}}),me=$(!1),fe=$(!1),O=$(!0),Ue=$(!1),Pe=$(-1);return(V,W)=>{const ee=et,de=lt;return y(),w(G,null,[p("div",oa,[o(de,{ref:"scrollbarRef"},{default:r(()=>[p("div",na,[p("div",ra,M(i(e)),1),p("div",ia,[p("div",{class:oe({btn:!0,checked:A.value}),onClick:W[0]||(W[0]=q=>A.value=!A.value)},[o(ee,null,{default:r(()=>[o(i(el))]),_:1}),da],2),p("div",{class:oe({btn:!0,checked:O.value}),onClick:W[1]||(W[1]=q=>O.value=!O.value),title:"\u52A0\u89E3\u9501\u65F6\u8054\u60F3\u76F8\u4F3C\u5723\u9057\u7269"},[o(ee,null,{default:r(()=>[o(i(tl))]),_:1}),ca],2),p("div",{class:oe({btn:!0,checked:i(Z)}),onClick:W[2]||(W[2]=q=>Z.value=!i(Z))},[o(ee,null,{default:r(()=>[o(i(vt))]),_:1}),pa],2),p("div",{class:oe({btn:!0,checked:i(pe)}),onClick:W[3]||(W[3]=q=>pe.value=!i(pe))},[o(ee,null,{default:r(()=>[o(i(vt))]),_:1}),ma],2),p("div",{class:"btn",onClick:W[4]||(W[4]=q=>me.value=!0),title:"\u624B\u52A8\u6DFB\u52A0"},[o(ee,null,{default:r(()=>[o(i(ll))]),_:1})]),p("div",{class:"btn",onClick:W[5]||(W[5]=q=>fe.value=!0),title:"\u968F\u673A\u751F\u6210"},[o(ee,null,{default:r(()=>[o(i(ul))]),_:1})])])]),(y(),N(i(al),{class:"artifact-grid",key:i(t).state.nReload,length:i(z).length,"page-size":50,"page-provider":L},{default:r(({item:q,style:xe,index:Qe})=>[p("div",{class:"artifact-cell",style:tt(xe)},[o(Ae,{artifact:q,"select-mode":u.value,selected:v(q.data.index),onFlipSelect:We=>d(q.data.index,We),onFlipLock:We=>a(q.data.index),onEdit:We=>E(q.data.index),onStats:We=>T(q)},null,8,["artifact","select-mode","selected","onFlipSelect","onFlipLock","onEdit","onStats"])],4)]),_:1},8,["length"])),o(Ne,{name:"pop"},{default:r(()=>[te(p("div",fa,[p("div",{class:"btn",onClick:f},"\u5168\u9009"),p("div",{class:"btn",onClick:g},"\u53CD\u9009"),ha,p("div",{class:"btn",onClick:h},"\u52A0\u9501"),p("div",{class:"btn",onClick:C},"\u89E3\u9501"),va,p("div",{class:"btn",onClick:F},"\u5220\u9664"),p("div",{class:"btn",onClick:S},"\u90E8\u5206\u5BFC\u51FA"),_a,p("div",{class:"btn",onClick:b},"\u53D6\u6D88"),p("div",ga,M(i(B)),1)],512),[[ae,u.value]])]),_:1})]),_:1},512)]),o(mu,{modelValue:_.value,"onUpdate:modelValue":W[6]||(W[6]=q=>_.value=q),index:m.value},null,8,["modelValue","index"]),o(Su,{modelValue:I.value,"onUpdate:modelValue":W[7]||(W[7]=q=>I.value=q),art:R.value},null,8,["modelValue","art"]),o(Iu,{modelValue:me.value,"onUpdate:modelValue":W[8]||(W[8]=q=>me.value=q)},null,8,["modelValue"]),o(Hu,{modelValue:fe.value,"onUpdate:modelValue":W[9]||(W[9]=q=>fe.value=q)},null,8,["modelValue"]),o(ta,{modelValue:D.value,"onUpdate:modelValue":W[10]||(W[10]=q=>D.value=q),artifacts:x.value},null,8,["modelValue","artifacts"]),o(sa,{modelValue:Ue.value,"onUpdate:modelValue":W[11]||(W[11]=q=>Ue.value=q),index:Pe.value},null,8,["modelValue","index"])],64)}}});var ya=ue(Ba,[["__scopeId","data-v-7d93e1f1"]]);const Ca=l=>(_e("data-v-7d34a6d6"),l=l(),ge(),l),ka={class:"section-title"},Fa=Ca(()=>p("span",{class:"marker"},null,-1)),ba={class:"title"},Ea={class:"section-opts"},wa=Y({props:{title:null},setup(l){return(t,e)=>(y(),w("div",ka,[Fa,p("span",ba,M(l.title),1),p("div",Ea,[Ce(t.$slots,"default",{},void 0,!0)])]))}});var Xe=ue(wa,[["__scopeId","data-v-7d34a6d6"]]);const Da=Y({props:{disabled:{type:Boolean}},emits:["click"],setup(l,{emit:t}){const e=l,a=k(()=>({"text-button":!0,disabled:e.disabled})),u=()=>{e.disabled||t("click")};return(s,n)=>(y(),w("div",{class:oe(i(a)),onClick:u},[Ce(s.$slots,"default",{},void 0,!0)],2))}});var je=ue(Da,[["__scopeId","data-v-3e528b78"]]);const Va=p("p",null,[K("\u6B64\u529F\u80FD\u7528\u4E8E\u5BFC\u51FA\u52A0\u89E3\u9501\u4FE1\u606F\uFF0C\u7136\u540E\u7ECF\u7531yas-lock\u540C\u6B65\u5230\u6E38\u620F\uFF0C\u8BE6\u60C5\u89C1"),p("a",{href:"./tutorial",target:"_blank"},"\u6559\u7A0B")],-1),Aa=K(" \u786E\u4FDD\u80CC\u5305\u5185\u5723\u9057\u7269\u7684"),Sa=p("b",null,"\u4F4D\u7F6E",-1),xa=K("\u6CA1\u6709\u53D1\u751F\u53D8\u5316\uFF0C\u5E76\u4E14\u6253\u5F00yas-lock\u524D\u5C06\u6253\u5F00\u5723\u9057\u7269\u80CC\u5305\u5E76\u7FFB\u5230"),$a=p("b",null,"\u6700\u9876\u90E8",-1),Oa=K("\uFF01\uFF01 "),Ta={class:"small-title",style:{"margin-top":"10px"}},Ma=["infinite-scroll-disabled"],Ua={class:"small-title",style:{"margin-top":"10px"}},Ka=["infinite-scroll-disabled"],Ra={style:{"margin-top":"10px"}},Ia=K("\u8BB0\u4F4F\u672C\u6B21\u66F4\u6539\uFF0C\u4E0B\u6B21\u5BFC\u51FA\u65F6\u5C06\u4E0D\u518D\u5305\u542B\u4EE5\u4E0A\u5723\u9057\u7269"),Na={style:{"margin-top":"10px","text-align":"center"}},Ga=K("\u5BFC\u51FA"),La=Y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(B){t("update:modelValue",B)}}),s=$([]),n=$(0),v=()=>{n.value<s.value.length&&(n.value=Math.min(s.value.length,n.value+10))},c=k(()=>n.value>=s.value.length),d=$([]),f=$(0),g=()=>{f.value<d.value.length&&(f.value=Math.min(d.value.length,f.value+10))},h=k(()=>f.value>=d.value.length);function C(B){return B.data.source=="yas-lock/good"||B.data.source=="pcap/good"}we(()=>e.modelValue,B=>{if(!!B){s.value=[],d.value=[];for(let _ of a.state.artifacts)!C(_)||(_.lock&&!_.data.lock&&s.value.push(_),!_.lock&&_.data.lock&&d.value.push(_));n.value=Math.min(s.value.length,10),f.value=Math.min(d.value.length,10)}});const F=$(!0),b=()=>{u.value=!1;let B=[];for(let _ of a.state.artifacts)!C(_)||_.lock!=_.data.lock&&(B.push(_.data.index),(F.value||a.state.ws.connected)&&(_.data.lock=_.lock));B.sort((_,m)=>_-m),a.state.ws.connected?a.dispatch("sendLockReq",{indices:B}):gt(JSON.stringify(B),"lock.json")};return(B,_)=>{const m=sl,E=qe,I=ve,R=he,T=ht;return y(),N(R,{title:"\u5BFC\u51FA\u9884\u89C8",modelValue:i(u),"onUpdate:modelValue":_[1]||(_[1]=D=>U(u)?u.value=D:null),top:"8vh"},{default:r(()=>[Va,o(m,{type:"warning",style:{"margin-top":"10px"}},{title:r(()=>[Aa,Sa,xa,$a,Oa]),_:1}),p("div",Ta,"\u4EE5\u4E0B\u5723\u9057\u7269\u5C06\u88AB\u52A0\u9501 (\u5171"+M(s.value.length)+"\u4E2A)",1),te((y(),w("div",{class:"preview-artifact-list","infinite-scroll-immediate":!1,"infinite-scroll-disabled":i(c)},[(y(!0),w(G,null,H(n.value,D=>(y(),N(Ae,{artifact:s.value[D-1],key:s.value[D-1].data.index,readonly:!0},null,8,["artifact"]))),128))],8,Ma)),[[T,v]]),p("div",Ua,"\u4EE5\u4E0B\u5723\u9057\u7269\u5C06\u88AB\u89E3\u9501 (\u5171"+M(d.value.length)+"\u4E2A)",1),te((y(),w("div",{class:"preview-artifact-list","infinite-scroll-immediate":!1,"infinite-scroll-disabled":i(h)},[(y(!0),w(G,null,H(f.value,D=>(y(),N(Ae,{artifact:d.value[D-1],key:d.value[D-1].data.index,readonly:!0},null,8,["artifact"]))),128))],8,Ka)),[[T,g]]),te(p("div",Ra,[o(E,{modelValue:F.value,"onUpdate:modelValue":_[0]||(_[0]=D=>F.value=D)},{default:r(()=>[Ia]),_:1},8,["modelValue"])],512),[[ae,!i(a).state.ws.connected]]),p("div",Na,[o(I,{type:"primary",onClick:b},{default:r(()=>[Ga]),_:1})])]),_:1},8,["modelValue"])}}}),ja=K("\u626B\u63CF"),Pa=K("\u52A0\u89E3\u9501"),Wa=K("\u6BEB\u79D2"),Ha=K("\u901A\u7528"),za=K("\u6BEB\u79D2"),Ya=K("\u6BEB\u79D2"),qa=K("\u6BEB\u79D2"),Ja=K("\u6BEB\u79D2"),Xa=K("\u786E\u8BA4"),Qa=Y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(v){t("update:modelValue",v)}}),s=k(()=>a.state.yas.config),n=()=>{a.commit("setYasConfig",{config:s.value}),u.value=!1};return(v,c)=>{const d=ze,f=Ye,g=ol,h=nl,C=rl,F=il,b=ve,B=$e,_=he;return y(),N(_,{title:"Yas-lock \u914D\u7F6E",modelValue:i(u),"onUpdate:modelValue":c[12]||(c[12]=m=>U(u)?u.value=m:null),top:"2vh"},{default:r(()=>[o(F,{model:i(s),"label-width":"auto","label-position":"left"},{default:r(()=>[o(d,null,{default:r(()=>[ja]),_:1}),o(g,{label:"\u6700\u5927\u626B\u63CF\u884C\u6570"},{default:r(()=>[o(f,{modelValue:i(s).max_row,"onUpdate:modelValue":c[0]||(c[0]=m=>i(s).max_row=m),min:1,max:1e3},null,8,["modelValue"])]),_:1}),o(g,{label:"\u6700\u5C0F\u661F\u7EA7"},{default:r(()=>[o(f,{modelValue:i(s).min_star,"onUpdate:modelValue":c[1]||(c[1]=m=>i(s).min_star=m),min:1,max:5},null,8,["modelValue"])]),_:1}),o(g,{label:"\u6700\u5C0F\u7B49\u7EA7"},{default:r(()=>[o(f,{modelValue:i(s).min_level,"onUpdate:modelValue":c[2]||(c[2]=m=>i(s).min_level=m),min:0,max:20},null,8,["modelValue"])]),_:1}),o(g,{label:"\u901F\u5EA6\uFF08\u5982\u63D0\u793A\u5927\u91CF\u91CD\u590D\u5C1D\u8BD5\u964D\u4F4E\u901F\u5EA6\uFF09"},{default:r(()=>[o(f,{modelValue:i(s).speed,"onUpdate:modelValue":c[3]||(c[3]=m=>i(s).speed=m),min:1,max:5},null,8,["modelValue"])]),_:1}),o(g,{label:"\u6307\u5B9A\u5723\u9057\u7269\u6570\u91CF\uFF08\u5728\u81EA\u52A8\u8BC6\u522B\u6570\u91CF\u4E0D\u51C6\u786E\u65F6\u4F7F\u7528\uFF09"},{default:r(()=>[o(f,{modelValue:i(s).number,"onUpdate:modelValue":c[4]||(c[4]=m=>i(s).number=m),min:0,max:2e3},null,8,["modelValue"])]),_:1}),o(d,null,{default:r(()=>[Pa]),_:1}),o(g,{label:"\u52A0\u89E3\u9501\u505C\u987F\u65F6\u95F4"},{default:r(()=>[o(f,{modelValue:i(s).lock_stop,"onUpdate:modelValue":c[5]||(c[5]=m=>i(s).lock_stop=m),min:0},null,8,["modelValue"]),o(h,{style:{"margin-left":"10px"}},{default:r(()=>[Wa]),_:1})]),_:1}),o(d,null,{default:r(()=>[Ha]),_:1}),o(g,{label:"\u7B49\u5F85\u52A8\u753B\u3001\u9F20\u6807\u70B9\u51FB\u7B49\u64CD\u4F5C\u7684\u9ED8\u8BA4\u505C\u987F\u65F6\u95F4"},{default:r(()=>[o(f,{modelValue:i(s).default_stop,"onUpdate:modelValue":c[6]||(c[6]=m=>i(s).default_stop=m),min:0},null,8,["modelValue"]),o(h,{style:{"margin-left":"10px"}},{default:r(()=>[za]),_:1})]),_:1}),o(g,{label:"\u9875\u9762\u6EDA\u52A8\u505C\u987F\u65F6\u95F4"},{default:r(()=>[o(f,{modelValue:i(s).scroll_stop,"onUpdate:modelValue":c[7]||(c[7]=m=>i(s).scroll_stop=m),min:0},null,8,["modelValue"]),o(h,{style:{"margin-left":"10px"}},{default:r(()=>[Ya]),_:1})]),_:1}),o(g,{label:"\u5207\u6362\u5723\u9057\u7269\u6700\u5927\u7B49\u5F85\u65F6\u95F4"},{default:r(()=>[o(f,{modelValue:i(s).max_wait_switch_artifact,"onUpdate:modelValue":c[8]||(c[8]=m=>i(s).max_wait_switch_artifact=m),min:0},null,8,["modelValue"]),o(h,{style:{"margin-left":"10px"}},{default:r(()=>[qa]),_:1})]),_:1}),o(g,{label:"\u7FFB\u9875\u7684\u6700\u5927\u7B49\u5F85\u65F6\u95F4\uFF08\u7FFB\u9875\u4E0D\u6B63\u786E\u53EF\u4EE5\u8003\u8651\u52A0\u5927\u8BE5\u9009\u9879\uFF09"},{default:r(()=>[o(f,{modelValue:i(s).max_wait_scroll,"onUpdate:modelValue":c[9]||(c[9]=m=>i(s).max_wait_scroll=m),min:0},null,8,["modelValue"]),o(h,{style:{"margin-left":"10px"}},{default:r(()=>[Ja]),_:1})]),_:1}),o(g,{label:"\u4E0D\u68C0\u6D4B\u662F\u5426\u5DF2\u6253\u5F00\u80CC\u5305\u7B49"},{default:r(()=>[o(C,{modelValue:i(s).no_check,"onUpdate:modelValue":c[10]||(c[10]=m=>i(s).no_check=m)},null,8,["modelValue"])]),_:1}),o(g,{label:"\u4F7F\u7528dxgcap\u6355\u83B7\u5C4F\u5E55"},{default:r(()=>[o(C,{modelValue:i(s).dxgcap,"onUpdate:modelValue":c[11]||(c[11]=m=>i(s).dxgcap=m)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o(B,{justify:"center",style:{"margin-top":"30px"}},{default:r(()=>[o(b,{type:"primary",onClick:n},{default:r(()=>[Xa]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});["Traveler"].concat(Object.keys(X).filter(l=>!l.startsWith("Traveler")));Object.keys(P.set);const Za=[];const es={class:"section"},ts={class:"section-content"},ls=K("\u626B\u63CF"),us=K("\u843D\u9501"),as=K("\u5BFC\u5165"),ss=K("\u5BFC\u51FA "),os=p("div",{class:"hidden"},[p("input",{type:"file",id:"file-input",accept:".json, .pcap"})],-1),ns=Y({setup(l){const t=le(),e=$(""),a=$(!1),u=k(()=>({"import-msg":!0,ok:a.value})),s=()=>{if(t.state.ws.connected){t.dispatch("sendScanReq");return}let d=document.getElementById("file-input");d.value="",d.onchange=()=>{if(!d.files||d.files.length==0)return;let f=d.files[0],g=new FileReader;f.name.endsWith(".pcap")?(e.value="\u7C73\u54C8\u6E38\u52A0\u5F3A\u4E86\u6570\u636E\u5305\u52A0\u5BC6\uFF0C\u6682\u4E0D\u652F\u6301pcap\u6587\u4EF6\u89E3\u6790",a.value=!1):(g.onload=h=>{if(typeof g.result!="string"){e.value="\u53EF\u80FD\u4E0D\u662F\u6587\u672C\u6587\u4EF6",a.value=!1;return}let C=[],F=!1;try{C=it.loads(g.result),F=C.length>0&&C[0].data.source=="yas-lock/good"}catch{try{C=Ot.loads(g.result)}catch{try{C=Tt.loads(g.result)}catch(_){console.error(_),e.value=String(_),a.value=!1;return}}}e.value=`\u6210\u529F\u5BFC\u5165${C.length}\u4E2A5\u661F\u5723\u9057\u7269`,a.value=!0,t.dispatch("setArtifacts",{artifacts:C,canExport:F})},g.readAsText(f,"UTF-8")),g.onerror=h=>{e.value="\u65E0\u6CD5\u8BFB\u53D6\u6587\u4EF6",a.value=!1},d.onchange=null},d.click()},n=()=>{window.open("./tutorial","_blank")},v=$(!1),c=$(!1);return _t(()=>{t.dispatch("setArtifacts",{canExport:!1,artifacts:Za})}),(d,f)=>(y(),w(G,null,[p("div",es,[o(Xe,{title:"\u5BFC\u5165"},{default:r(()=>[i(t).state.ws.connected?(y(),w("span",{key:0,onClick:f[0]||(f[0]=g=>c.value=!0)},"Yas-lock\u914D\u7F6E")):ut("",!0),p("span",{onClick:n},"\u6559\u7A0B")]),_:1}),p("div",ts,[i(t).state.ws.connected?(y(),w(G,{key:0},[o(je,{onClick:s},{default:r(()=>[ls]),_:1}),o(je,{style:{"margin-left":"20px"},onClick:f[1]||(f[1]=g=>v.value=!0)},{default:r(()=>[us]),_:1})],64)):(y(),w(G,{key:1},[o(je,{onClick:s},{default:r(()=>[as]),_:1}),o(je,{style:{"margin-left":"20px"},onClick:f[2]||(f[2]=g=>v.value=!0),disabled:!i(t).state.canExport},{default:r(()=>[ss]),_:1},8,["disabled"])],64)),p("p",{class:oe(i(u))},M(e.value),3)])]),os,o(La,{modelValue:v.value,"onUpdate:modelValue":f[3]||(f[3]=g=>v.value=g)},null,8,["modelValue"]),o(Qa,{modelValue:c.value,"onUpdate:modelValue":f[4]||(f[4]=g=>c.value=g)},null,8,["modelValue"])],64))}});const rs=["title"],is={class:"blank"},ds={key:"text-blank"},cs={key:1},ps={key:"text-fill"},ms={key:1},fs=Y({props:{modelValue:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k(()=>{let f=0,g=0;return f=g=100*e.modelValue,`clip-path: polygon(0 0, ${g}% 0, ${f}% 100%, 0 100%);`});let u=$(!1);const s=k(()=>({"value-button":!0,dragging:u.value})),n=f=>{u.value=!0;let g=e.modelValue+f.movementX/120;g=Math.min(Math.max(g,0),1),g=Math.round(g*100)/100,t("update:modelValue",g)},v=()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",v),u.value||(e.modelValue>=1?t("update:modelValue",0):e.modelValue>=.5?t("update:modelValue",1):e.modelValue>=0&&t("update:modelValue",.5)),u.value=!1},c=f=>{window.addEventListener("mousemove",n),window.addEventListener("mouseup",v)},d=k(()=>e.modelValue.toFixed(2));return(f,g)=>(y(),w("div",{class:oe(i(s)),onMousedown:c,title:i(d)},[p("div",is,[o(Ne,{name:"switch",mode:"out-in"},{default:r(()=>[i(u)?(y(),w("div",cs,M(i(d)),1)):(y(),w("div",ds,[Ce(f.$slots,"default",{},void 0,!0)]))]),_:3})]),p("div",{class:"fill",style:tt(i(a))},[o(Ne,{name:"switch",mode:"out-in"},{default:r(()=>[i(u)?(y(),w("div",ms,M(i(d)),1)):(y(),w("div",ps,[Ce(f.$slots,"default",{},void 0,!0)]))]),_:3})],4)],42,rs))}});var hs=ue(fs,[["__scopeId","data-v-2e650eaf"]]),vs={\u653B\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:1,cr:0,cd:0},\u653B\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:1,cr:1,cd:1},\u653B\u5145\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:1,er:1,cr:1,cd:1},\u653B\u51FB\u7206\u4F24:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:0,cr:0,cd:1},\u653B\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:0,er:0,cr:1,cd:1},\u653B\u751F\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:0,er:1,cr:1,cd:1},\u653B\u751F\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:0,er:0,cr:1,cd:1},\u653B\u751F\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:.5,defp:0,em:1,er:0,cr:1,cd:1},\u653B\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:1,er:0,cr:1,cd:1},\u653B\u7CBE\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:1,defp:0,em:1,er:1,cr:1,cd:1},\u653B\u9632\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:1,em:0,er:0,cr:1,cd:1},\u653B\u9632\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:.5,defp:1,em:0,er:1,cr:1,cd:1},\u751F:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:0,cr:0,cd:0},\u751F\u5145:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:0,cd:0},\u751F\u653B\u5145:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:0,er:1,cr:0,cd:0},\u751F\u7CBE:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:0,cd:0},\u751F\u653B\u7CBE\u5145:{hp:0,atk:0,def:0,hpp:1,atkp:1,defp:0,em:1,er:1,cr:0,cd:0},\u751F\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:1,cd:1},\u751F\u7CBE\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:1,cr:1,cd:1},\u751F\u7CBE\u7206\u4F24:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:1,er:0,cr:0,cd:1},\u751F\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:0,cr:1,cd:1},\u751F\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:1,atkp:0,defp:0,em:0,er:1,cr:1,cd:1},\u7CBE:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:0,cr:0,cd:0},\u7CBE\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:1,cr:0,cd:0},\u7CBE\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:0,cr:1,cd:1},\u7CBE\u5145\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:1,er:1,cr:1,cd:1},\u9632\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:1,em:0,er:1,cr:0,cd:0},\u9632\u53CC\u66B4:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:1,em:0,er:0,cr:1,cd:1},\u5145:{hp:0,atk:0,def:0,hpp:0,atkp:0,defp:0,em:0,er:1,cr:0,cd:0}};const _s=p("p",{class:"info"},[K(" \u6570\u636E\u6765\u81EA "),p("a",{href:"http://spongem.com/ajglz/ys/ys.html"},"\u5723\u9057\u7269\u526F\u8BCD\u6761\u6570\u4FBF\u6377\u8BA1\u7B97\u5668")],-1),gs=K("\u5143\u7D20\u7C7B\u578B"),Bs=K("\u89D2\u8272"),ys=K("\u9884\u8BBE"),Cs=K("\u5E94\u7528"),ks=Y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(F){t("update:modelValue",F)}}),s=$(""),n=$(""),v=k(()=>{let F=[];for(let b in X)X[b].element==s.value&&F.push({value:b,label:P.character[b]});return F}),c=$(""),d=k(()=>{let F=[];for(let b in X)if(b==n.value){for(let B of X[b].presets)F.push({value:B,label:P.preset[B]});break}return F}),f=()=>{n.value="",c.value=""},g=()=>{c.value=""},h=k(()=>c.value==""),C=()=>{a.commit("usePreset",{weight:vs[c.value]}),t("update:modelValue",!1)};return(F,b)=>{const B=Ke,_=Re,m=Ie,E=$e,I=ve,R=he;return y(),N(R,{title:"\u8BCD\u6761\u6743\u91CD\u9884\u8BBE",modelValue:i(u),"onUpdate:modelValue":b[3]||(b[3]=T=>U(u)?u.value=T:null)},{default:r(()=>[_s,o(E,{justify:"space-between"},{default:r(()=>[o(B,{span:8},{default:r(()=>[gs]),_:1}),o(B,{span:8},{default:r(()=>[o(m,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=T=>s.value=T),onChange:f},{default:r(()=>[(y(!0),w(G,null,H(i(P).element,(T,D)=>(y(),N(_,{label:T,value:D},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(E,{justify:"space-between"},{default:r(()=>[o(B,{span:8},{default:r(()=>[Bs]),_:1}),o(B,{span:8},{default:r(()=>[o(m,{modelValue:n.value,"onUpdate:modelValue":b[1]||(b[1]=T=>n.value=T),onChange:g},{default:r(()=>[(y(!0),w(G,null,H(i(v),T=>(y(),N(_,{label:T.label,value:T.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(E,{justify:"space-between"},{default:r(()=>[o(B,{span:8},{default:r(()=>[ys]),_:1}),o(B,{span:8},{default:r(()=>[o(m,{modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=T=>c.value=T)},{default:r(()=>[(y(!0),w(G,null,H(i(d),T=>(y(),N(_,{label:T.label,value:T.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(E,{justify:"center",style:{"margin-top":"30px"}},{default:r(()=>[o(I,{type:"primary",onClick:C,disabled:i(h)},{default:r(()=>[Cs]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}});const Fs=l=>(_e("data-v-7592e30a"),l=l(),ge(),l),bs={class:"section"},Es=Fs(()=>p("p",{class:"info"},"\u70B9\u6309\u7C97\u8C03\uFF0C\u62D6\u62FD\u5FAE\u8C03\uFF0C\u60AC\u505C\u67E5\u770B\u6570\u503C",-1)),ws=Y({setup(l){const t=le(),e=(s,n)=>{t.commit("setWeight",{key:s,value:n})},a=$(!1),u=()=>{a.value=!0};return(s,n)=>(y(),w(G,null,[p("div",bs,[o(Xe,{title:"\u8BCD\u6761\u6743\u91CD"},{default:r(()=>[p("span",{onClick:u},"\u9884\u8BBE")]),_:1}),Es,(y(!0),w(G,null,H(i(t).state.weight,(v,c)=>(y(),N(hs,{class:"weight-button","model-value":i(t).state.weight[c],"onUpdate:modelValue":d=>e(c,d)},{default:r(()=>[K(M(i(P).affix[c]),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),256))]),o(ks,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=v=>a.value=v)},null,8,["modelValue"])],64))}});var Ds=ue(ws,[["__scopeId","data-v-7592e30a"]]),Vs="assets/arrow.webp";const As=l=>(_e("data-v-401b2d46"),l=l(),ge(),l),Ss={class:"selected-wrapper"},xs=As(()=>p("img",{class:"select-arrow",src:Vs},null,-1)),$s={class:"title"},Os=Y({props:{options:null,title:null,persistant:{type:Boolean}},setup(l){const t=l,e=$(!1),a=$(!1),u=$(),s=h=>{e.value?e.value=!1:(e.value=!0,a.value=!1,_t(()=>{let C=Math.min(360,u.value.clientHeight),F=u.value.getBoundingClientRect();u.value.style.height=C+"px",a.value=F.top+C>window.innerHeight}))},n=$(),v=h=>{n.value.contains(h.relatedTarget)||(e.value=!1)},c=k(()=>JSON.stringify(t.options)),d=h=>{t.persistant&&h.stopPropagation()},f=k(()=>({"drop-select":!0,show:e.value})),g=k(()=>({options:!0,top:a.value}));return(h,C)=>{const F=lt;return y(),w("div",{class:oe(i(f)),ref_key:"rootEl",ref:n,tabindex:"-1",onClick:s,onFocusout:v},[p("div",Ss,[Ce(h.$slots,"selected",{},void 0,!0)]),xs,p("span",$s,M(l.title),1),o(Ne,{name:"pop"},{default:r(()=>[te((y(),w("div",{class:oe(i(g)),ref_key:"optionsEl",ref:u,key:i(c),onClick:d},[o(F,null,{default:r(()=>[Ce(h.$slots,"options",{},void 0,!0)]),_:3})],2)),[[ae,e.value]])]),_:3})],34)}}});var Mt=ue(Os,[["__scopeId","data-v-401b2d46"]]);const Ts=l=>(_e("data-v-6ba697a8"),l=l(),ge(),l),Ms={class:"options-header"},Us={class:"options-header-content"},Ks=Ts(()=>p("span",{class:"label"},"\u5168\u9009",-1)),Rs={class:"tip"},Is={class:"options"},Ns=Y({props:{options:null,modelValue:null,title:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k({get(){return e.modelValue.length==e.options.length},set(c){t("update:modelValue",e.options.map(d=>d.key))}}),u=k(()=>e.modelValue.length>0&&e.modelValue.length<e.options.length),s=k({get(){return e.modelValue},set(c){t("update:modelValue",c)}}),n=c=>{c?t("update:modelValue",e.options.map(d=>d.key)):t("update:modelValue",[])},v=k(()=>`${e.modelValue.length} / ${e.options.length}`);return(c,d)=>{const f=qe,g=dl;return y(),N(Mt,{title:l.title,options:l.options,persistant:!0},{selected:r(()=>[Ce(c.$slots,"selected",{},void 0,!0)]),options:r(()=>[p("div",Ms,[o(f,{modelValue:i(a),"onUpdate:modelValue":d[0]||(d[0]=h=>U(a)?a.value=h:null),indeterminate:i(u),onChange:n},{default:r(()=>[p("div",Us,[Ks,p("span",Rs,M(i(v)),1)])]),_:1},8,["modelValue","indeterminate"])]),p("div",Is,[o(g,{modelValue:i(s),"onUpdate:modelValue":d[1]||(d[1]=h=>U(s)?s.value=h:null)},{default:r(()=>[Ce(c.$slots,"options",{},void 0,!0)]),_:3},8,["modelValue"])])]),_:3},8,["title","options"])}}});var Ut=ue(Ns,[["__scopeId","data-v-6ba697a8"]]);const Gs=["src"],Ls={class:"option"},js={class:"option-content"},Ps=["src"],Ws={class:"label"},Hs={class:"tip"},zs=Y({props:{options:null,modelValue:null,title:null,useIcon:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),u=k(()=>e.options.filter(s=>e.modelValue.includes(s.key)));return(s,n)=>{const v=qe;return y(),N(Ut,{title:l.title,options:l.options,modelValue:i(a),"onUpdate:modelValue":n[0]||(n[0]=c=>U(a)?a.value=c:null)},{selected:r(()=>[l.useIcon?(y(),N(at,{key:0,class:"selected-options-wrapper",name:"list",tag:"div"},{default:r(()=>[(y(!0),w(G,null,H(i(u),c=>(y(),w("img",{class:"tag",src:c.icon,alt:"",key:c.key},null,8,Gs))),128))]),_:1})):(y(),N(at,{key:1,class:"selected-options-wrapper",name:"list",tag:"div"},{default:r(()=>[(y(!0),w(G,null,H(i(u),c=>(y(),w("span",{class:"tag",key:c.key},M(c.label),1))),128))]),_:1}))]),options:r(()=>[(y(!0),w(G,null,H(l.options,c=>(y(),w("div",Ls,[o(v,{label:c.key},{default:r(()=>[p("div",js,[l.useIcon?(y(),w("img",{key:0,class:"icon",src:c.icon,alt:""},null,8,Ps)):ut("",!0),p("span",Ws,M(c.label),1),p("span",Hs,M(c.tip),1)])]),_:2},1032,["label"])]))),256))]),_:1},8,["title","options","modelValue"])}}});var Ee=ue(zs,[["__scopeId","data-v-dd989458"]]);const Ys={class:"selected"},qs=["onClick"],Js={class:"label"},Xs={class:"tip"},Qs=Y({props:{options:null,modelValue:null,title:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k(()=>{for(let s of e.options)if(s.key==e.modelValue)return s.label;return"\u9519\u8BEF\uFF1A\u672A\u77E5\u7684\u9009\u9879"}),u=s=>{t("update:modelValue",s)};return(s,n)=>(y(),N(Mt,{title:l.title,options:l.options},{selected:r(()=>[p("div",Ys,M(i(a)),1)]),options:r(()=>[(y(!0),w(G,null,H(l.options,v=>(y(),w("div",{class:oe({option:!0,selected:v.key==l.modelValue}),onClick:c=>u(v.key)},[p("span",Js,M(v.label),1),p("span",Xs,M(v.tip),1)],10,qs))),256))]),_:1},8,["title","options"]))}});var Kt=ue(Qs,[["__scopeId","data-v-11fa80ca"]]);const Zs=["src"],eo={key:0,class:"option"},to={class:"option-content"},lo=["src"],uo={class:"label"},ao={class:"tip"},so={class:"option-group"},oo={class:"group-header"},no=["src"],ro={class:"label"},io={class:"option"},co={class:"option-content"},po=["src"],mo={class:"tip"},fo=Y({props:{options:null,modelValue:null,title:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=f=>f.key?P.character[f.key]||f.key:"\u672A\u4F69\u6234",u=f=>f.key?`./assets/char_faces/${f.key}.webp`:"./assets/forbidden.webp",s=f=>f.key?X[f.key].rarity==5?"gold":"purple":"black",n=k(()=>e.options.filter(f=>f.key=="")[0]),v=k(()=>{let f=Object.fromEntries(e.options.filter(h=>h.key).map(h=>[h.key,h])),g={};return Object.keys(X).filter(h=>h in f).sort((h,C)=>X[C].rarity-X[h].rarity).forEach(h=>{let C=X[h].element;C in g?g[C].push(f[h]):g[C]=[f[h]]}),["pyro","hydro","cryo","electro","anemo","geo","dendro"].filter(h=>h in g).map(h=>({icon:`./assets/game_icons/${h}.webp`,text:P.element[h],options:g[h]}))}),c=k({get(){return e.modelValue},set(f){t("update:modelValue",f)}}),d=k(()=>e.options.filter(f=>e.modelValue.includes(f.key)));return(f,g)=>{const h=qe;return y(),N(Ut,{title:l.title,options:l.options,modelValue:i(c),"onUpdate:modelValue":g[0]||(g[0]=C=>U(c)?c.value=C:null)},{selected:r(()=>[o(at,{class:"selected-options-wrapper",name:"list",tag:"div"},{default:r(()=>[(y(!0),w(G,null,H(i(d),C=>(y(),w("img",{class:"tag",src:u(C),alt:"",key:C.key},null,8,Zs))),128))]),_:1})]),options:r(()=>[i(n)?(y(),w("div",eo,[o(h,{label:i(n).key},{default:r(()=>[p("div",to,[p("img",{class:"icon",src:u(i(n)),alt:""},null,8,lo),p("span",uo,M(a(i(n))),1),p("span",ao,M(i(n).tip),1)])]),_:1},8,["label"])])):ut("",!0),(y(!0),w(G,null,H(i(v),C=>(y(),w("div",so,[p("div",oo,[p("img",{src:C.icon,alt:"",class:"icon"},null,8,no),p("span",ro,M(C.text),1)]),(y(!0),w(G,null,H(C.options,F=>(y(),w("div",io,[o(h,{label:F.key},{default:r(()=>[p("div",co,[p("img",{class:"icon",src:u(F),alt:""},null,8,po),p("span",{class:oe(`label ${s(F)}`)},M(a(F)),3),p("span",mo,M(F.tip),1)])]),_:2},1032,["label"])]))),256))]))),256))]),_:1},8,["title","options","modelValue"])}}});var Rt=ue(fo,[["__scopeId","data-v-6d597b54"]]);const ho={class:"range-slider"},vo={class:"val"},_o={class:"val"},go=Y({props:{modelValue:null},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=k({get(){return e.modelValue},set(u){t("update:modelValue",u)}});return(u,s)=>{const n=cl;return y(),w("div",ho,[p("span",vo,M(l.modelValue[0]),1),o(n,{class:"slider",modelValue:i(a),"onUpdate:modelValue":s[0]||(s[0]=v=>U(a)?a.value=v:null),range:"","show-stops":"",max:20},null,8,["modelValue"]),p("span",_o,M(l.modelValue[1]),1)])}}});var Bo=ue(go,[["__scopeId","data-v-07075322"]]);const yo={class:"section"},Co={class:"section-content"},ko=Y({setup(l){const t=le(),e=k({get(){return t.state.filter.pro},set(_){t.commit("setFilter",{pro:_})}});function a(_){let m={};for(let E of t.state.artifacts){let I=E[_].toString();m[I]=I in m?m[I]+1:1}return m}const u=k(()=>{let _=a("set");return Object.keys(P.set).filter(m=>m in _).map(m=>({key:m,label:P.set[m],icon:`./assets/artifacts/${m}/flower.webp`,tip:_[m].toString()}))}),s=k({get(){return t.state.filter.set},set(_){t.commit("setFilter",{set:_})}}),n=k(()=>{let _=a("slot");return Object.keys(P.slot).filter(m=>m in _).map(m=>({key:m,label:P.slot[m],icon:`./assets/game_icons/${m}.webp`,tip:_[m].toString()}))}),v=k({get(){return t.state.filter.slot},set(_){t.commit("setFilter",{slot:_})}}),c=k(()=>{let _=a("mainKey");return j.mainKeys.all.filter(m=>m in _).map(m=>({key:m,label:P.affix[m],tip:_[m].toString()}))}),d=k({get(){return t.state.filter.main},set(_){t.commit("setFilter",{main:_})}}),f=k(()=>{let _=a("lock");return["true","false"].filter(m=>m in _).map(m=>({key:m,label:m=="true"?"\u52A0\u9501":"\u89E3\u9501",tip:_[m].toString()}))}),g=k({get(){return t.state.filter.lock},set(_){t.commit("setFilter",{lock:_})}}),h=k({get(){return t.state.filter.lvRange},set(_){t.commit("setFilter",{lvRange:_})}}),C=k(()=>{let _=a("location");return["","Traveler"].concat(Object.keys(X)).filter(m=>m in _).map(m=>({key:m,tip:_[m].toString()}))}),F=k({get(){return t.state.filter.location},set(_){t.commit("setFilter",{location:_})}}),b=At.map((_,m)=>({key:m,label:_.label})),B=k({get(){return t.state.filter.ruleId},set(_){t.commit("setFilter",{ruleId:_})}});return we(()=>t.state.nResetFilter,()=>{t.commit("setFilter",{set:u.value.map(_=>_.key),slot:n.value.map(_=>_.key),main:c.value.map(_=>_.key),lock:f.value.map(_=>_.key),lvRange:[0,20],location:C.value.map(_=>_.key)})}),(_,m)=>(y(),w("div",yo,[o(Xe,{title:"\u7B5B\u9009"},{default:r(()=>[te(p("span",{onClick:m[0]||(m[0]=E=>e.value=!1)},"\u57FA\u672C",512),[[ae,i(e)]]),te(p("span",{onClick:m[1]||(m[1]=E=>e.value=!0)},"\u9AD8\u7EA7",512),[[ae,!i(e)]])]),_:1}),p("div",Co,[o(Ee,{class:"filter",title:"\u5957\u88C5",options:i(u),modelValue:i(s),"onUpdate:modelValue":m[2]||(m[2]=E=>U(s)?s.value=E:null),"use-icon":!0},null,8,["options","modelValue"]),o(Ee,{class:"filter",title:"\u90E8\u4F4D",options:i(n),modelValue:i(v),"onUpdate:modelValue":m[3]||(m[3]=E=>U(v)?v.value=E:null),"use-icon":!0},null,8,["options","modelValue"]),o(Ee,{class:"filter",title:"\u4E3B\u8BCD\u6761",options:i(c),modelValue:i(d),"onUpdate:modelValue":m[4]||(m[4]=E=>U(d)?d.value=E:null)},null,8,["options","modelValue"]),o(Ee,{class:"filter",title:"\u9501",options:i(f),modelValue:i(g),"onUpdate:modelValue":m[5]||(m[5]=E=>U(g)?g.value=E:null)},null,8,["options","modelValue"]),o(Bo,{class:"filter",modelValue:i(h),"onUpdate:modelValue":m[6]||(m[6]=E=>U(h)?h.value=E:null)},null,8,["modelValue"]),te(p("div",null,[o(Rt,{class:"filter",title:"\u89D2\u8272",options:i(C),modelValue:i(F),"onUpdate:modelValue":m[7]||(m[7]=E=>U(F)?F.value=E:null)},null,8,["options","modelValue"]),o(Kt,{class:"filter",title:"\u7279\u6B8A\u7B5B\u9009\u89C4\u5219",options:i(b),modelValue:i(B),"onUpdate:modelValue":m[8]||(m[8]=E=>U(B)?B.value=E:null)},null,8,["options","modelValue"])],512),[[ae,i(e)]])])]))}}),Fo=p("p",{class:"info"},[K(" \u6570\u636E\u6765\u81EA "),p("a",{href:"https://ngabbs.com/read.php?tid=27859119"},"\u5168\u89D2\u8272\u5723\u9057\u7269\u53CA\u6B66\u5668\u642D\u914D\u7B80\u8FF0 [NGA]")],-1),bo=K("\u5143\u7D20\u7C7B\u578B"),Eo=K("\u89D2\u8272"),wo=K("\u5E94\u7528"),Do=Y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const e=l,a=le(),u=k({get(){return e.modelValue},set(g){t("update:modelValue",g)}}),s=$(""),n=$(""),v=k(()=>{let g=[];for(let h in X)X[h].element==s.value&&g.push({value:h,label:P.character[h]});return g}),c=()=>{n.value=""},d=k(()=>n.value in X),f=()=>{a.commit("useBuild",{charKey:n.value}),t("update:modelValue",!1)};return(g,h)=>{const C=Ke,F=Re,b=Ie,B=$e,_=ve,m=he;return y(),N(m,{title:"\u8BCD\u6761\u6743\u91CD\u9884\u8BBE",modelValue:i(u),"onUpdate:modelValue":h[2]||(h[2]=E=>U(u)?u.value=E:null)},{default:r(()=>[Fo,o(B,{justify:"space-between"},{default:r(()=>[o(C,{span:8},{default:r(()=>[bo]),_:1}),o(C,{span:8},{default:r(()=>[o(b,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=E=>s.value=E),onChange:c},{default:r(()=>[(y(!0),w(G,null,H(i(P).element,(E,I)=>(y(),N(F,{label:E,value:I},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(B,{justify:"space-between"},{default:r(()=>[o(C,{span:8},{default:r(()=>[Eo]),_:1}),o(C,{span:8},{default:r(()=>[o(b,{modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=E=>n.value=E)},{default:r(()=>[(y(!0),w(G,null,H(i(v),E=>(y(),N(F,{label:E.label,value:E.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(B,{justify:"center",style:{"margin-top":"30px"}},{default:r(()=>[o(_,{type:"primary",onClick:f,disabled:!i(d)},{default:r(()=>[wo]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])}}});const Me=l=>(_e("data-v-5f47b7b0"),l=l(),ge(),l),Vo={class:"section"},Ao={class:"content"},So={key:0},xo=Me(()=>p("p",{class:"row small"},"\u5723\u9057\u7269a\u5BF9\u89D2\u8272c\u7684\u9002\u914D\u6982\u7387\u5B9A\u4E49\u4E3A\uFF0C\u5237100\u4E2A\u6EE1\u7EA7\u5723\u9057\u7269\uFF0C\u5176\u4E2D\u548Ca\u540C\u90E8\u4F4D\u540C\u4E3B\u8BCD\u6761\u7684\u5723\u9057\u7269\u5F97\u5206\u5747\u4E0D\u8D85\u8FC7a\u7684\u6EE1\u7EA7\u671F\u671B\u5F97\u5206\u7684\u6982\u7387\u3002\u5982\u679Ca\u5BF9c\u662F\u6563\u4EF6\u5219\u662F200\u4E2A\u3002",-1)),$o=Me(()=>p("p",{class:"row small"},[K("\u6839\u636E"),p("a",{href:"https://ngabbs.com/read.php?tid=27859119",target:"_blank"},"\u63A8\u8350\u914D\u88C5"),K("\u4E3A\u6BCF\u4E2A\u89D2\u8272\u8BA1\u7B97\u9002\u914D\u6982\u7387\uFF08\u81EA\u5B9A\u4E49\u7684\u8BCD\u6761\u6743\u91CD\u4E0D\u4F1A\u751F\u6548\uFF09\uFF0C\u603B\u7684\u9002\u914D\u6982\u7387\u4E3A\u6240\u6709\u9009\u4E2D\u89D2\u8272\u9002\u914D\u6982\u7387\u7684\u6700\u5927\u503C\u3002 ")],-1)),Oo=Me(()=>p("p",{class:"row small"},"\u9F20\u6807\u60AC\u505C\u5728\u5723\u9057\u7269\u4E0A\u53EF\u4EE5\u67E5\u770B\u8BE6\u7EC6\u7684\u8BA1\u7B97\u7ED3\u679C\u3002",-1)),To={key:1},Mo=Me(()=>p("p",{class:"row small"},"\u5723\u9057\u7269a\u5BF9\u89D2\u8272c\u7684\u9002\u914D\u6982\u7387\u5B9A\u4E49\u4E3A\uFF0C\u5237100\u4E2A\u6EE1\u7EA7\u5723\u9057\u7269\uFF0C\u5176\u4E2D\u548Ca\u540C\u90E8\u4F4D\u540C\u4E3B\u8BCD\u6761\u7684\u5723\u9057\u7269\u5F97\u5206\u5747\u4E0D\u8D85\u8FC7a\u7684\u6EE1\u7EA7\u671F\u671B\u5F97\u5206\u7684\u6982\u7387\u3002\u5982\u679Ca\u5BF9c\u662F\u6563\u4EF6\u5219\u662F200\u4E2A\u3002",-1)),Uo={key:2},Ko=Me(()=>p("p",{class:"row small"},"\u5723\u9057\u7269b\u662F\u5723\u9057\u7269a\u7684\u4E0A\u4F4D\u66FF\u4EE3\uFF0C\u5982\u679C\u5B83\u4EEC\u90E8\u4F4D\u548C\u4E3B\u8BCD\u6761\u76F8\u540C\uFF0C\u4E14a\u7684\u6240\u6709\u526F\u8BCD\u6761\uFF08\u9664\u5C0F\u653B/\u5C0F\u751F/\u5C0F\u9632\u5916\uFF09b\u90FD\u6709\u800C\u4E14\u6570\u503C\u66F4\u5927\u3002",-1)),Ro=[Ko],Io={key:3},No={key:4},Go=Me(()=>p("p",{class:"row small"},"\u5723\u9057\u7269\u7684\u201C\u8BCD\u6761\u6570\u201D\u662F\u5404\u4E2A\u526F\u8BCD\u6761\u6570\u503C\u9664\u4EE5\u5355\u6B21\u5E73\u5747\u63D0\u5347\u91CF\uFF0C\u518D\u6839\u636E\u8BCD\u6761\u6743\u91CD\u8BA1\u7B97\u7684\u52A0\u6743\u548C\u3002",-1)),Lo=[Go],jo=Y({setup(l){const t=le(),e=[{key:"cur",label:"\u6309\u5F53\u524D\u8BCD\u6761\u6570"},{key:"min",label:"\u6309\u6EE1\u7EA7\u6700\u5C0F\u8BCD\u6761\u6570"},{key:"avg",label:"\u6309\u6EE1\u7EA7\u671F\u671B\u8BCD\u6761\u6570"},{key:"max",label:"\u6309\u6EE1\u7EA7\u6700\u5927\u8BCD\u6761\u6570"},{key:"pmulti",label:"\u6309\u89D2\u8272\u9002\u914D\u6982\u7387\uFF08\u591A\u4EBA\uFF09"},{key:"psingle",label:"\u6309\u89D2\u8272\u9002\u914D\u6982\u7387\uFF08\u5355\u4EBA\uFF09"},{key:"defeat",label:"\u6309\u4E0A\u4F4D\u66FF\u4EE3\u6570"},{key:"index",label:"\u4E0D\u6392\u5E8F"}],a=k({get(){return t.state.sort.by},set(B){t.commit("setSort",{key:"by",value:B})}}),u=Object.keys(X).map(B=>({key:B,tip:""})),s=k({get(){return t.state.sort.characters},set(B){t.commit("setSort",{key:"characters",value:B})}}),n=Object.entries(P.set).map(([B,_])=>({key:B,label:_,icon:`./assets/artifacts/${B}/flower.webp`})),v=k({get(){return t.state.sort.sets},set(B){t.commit("setSort",{key:"sets",value:B})}}),c=j.mainKeys.sands.map(B=>({key:B,label:P.affix[B]})),d=k({get(){return t.state.sort.sands},set(B){t.commit("setSort",{key:"sands",value:B})}}),f=j.mainKeys.goblet.map(B=>({key:B,label:P.affix[B]})),g=k({get(){return t.state.sort.goblet},set(B){t.commit("setSort",{key:"goblet",value:B})}}),h=j.mainKeys.circlet.map(B=>({key:B,label:P.affix[B]})),C=k({get(){return t.state.sort.circlet},set(B){t.commit("setSort",{key:"circlet",value:B})}}),F=$(!1),b=()=>F.value=!0;return(B,_)=>(y(),w(G,null,[p("div",Vo,[o(Xe,{title:"\u6392\u5E8F"}),p("div",Ao,[o(Kt,{class:"row",modelValue:i(a),"onUpdate:modelValue":_[0]||(_[0]=m=>U(a)?a.value=m:null),options:e,title:"\u6392\u5E8F\u65B9\u5F0F"},null,8,["modelValue"]),i(a)=="pmulti"?(y(),w("div",So,[xo,$o,Oo,o(Rt,{class:"row",title:"\u89D2\u8272",options:i(u),modelValue:i(s),"onUpdate:modelValue":_[1]||(_[1]=m=>U(s)?s.value=m:null)},null,8,["options","modelValue"])])):i(a)=="psingle"?(y(),w("div",To,[Mo,p("p",{class:"row small"},[p("span",{class:"text-btn",onClick:b},"\u52A0\u8F7D\u9884\u8BBE\u914D\u88C5")]),o(Ee,{class:"row",modelValue:i(v),"onUpdate:modelValue":_[2]||(_[2]=m=>U(v)?v.value=m:null),options:i(n),title:"\u5957\u88C5\u504F\u597D","use-icon":!0},null,8,["modelValue","options"]),o(Ee,{class:"row",modelValue:i(d),"onUpdate:modelValue":_[3]||(_[3]=m=>U(d)?d.value=m:null),options:i(c),title:"\u65F6\u4E4B\u6C99\u4E3B\u8BCD\u6761\u504F\u597D"},null,8,["modelValue","options"]),o(Ee,{class:"row",modelValue:i(g),"onUpdate:modelValue":_[4]||(_[4]=m=>U(g)?g.value=m:null),options:i(f),title:"\u7A7A\u4E4B\u676F\u4E3B\u8BCD\u6761\u504F\u597D"},null,8,["modelValue","options"]),o(Ee,{class:"row",modelValue:i(C),"onUpdate:modelValue":_[5]||(_[5]=m=>U(C)?C.value=m:null),options:i(h),title:"\u7406\u4E4B\u51A0\u4E3B\u8BCD\u6761\u504F\u597D"},null,8,["modelValue","options"])])):i(a)=="defeat"?(y(),w("div",Uo,Ro)):i(a)=="index"?(y(),w("div",Io)):(y(),w("div",No,Lo))])]),o(Do,{modelValue:F.value,"onUpdate:modelValue":_[6]||(_[6]=m=>F.value=m)},null,8,["modelValue"])],64))}});var Po=ue(jo,[["__scopeId","data-v-5f47b7b0"]]);const Wo={class:"layout-right"},Ho={class:"start-container"},zo=K("\u5F00\u59CB\u8BA1\u7B97"),Yo=Y({setup(l){const t=le(),e=()=>{t.dispatch("updFilteredArtifacts")};return(a,u)=>{const s=lt;return y(),w("div",Wo,[o(s,null,{default:r(()=>[o(ns),o(ko),o(Ds),o(Po),p("div",Ho,[o(je,{onClick:e},{default:r(()=>[zo]),_:1})])]),_:1})])}}});var qo=ue(Yo,[["__scopeId","data-v-4abdffac"]]);const Jo={id:"left-right"},Xo={class:"update-content"},Qo=K("\u6211\u5DF2\u6709\u6B64\u7248\u672C"),Zo=p("p",null,[p("b",null,"\u66F4\u65B0\u65E5\u5FD7\uFF1A")],-1),en={style:{"white-space":"pre-wrap"}},tn={class:"modal"},ln=Y({setup(l){const t=le(),e="./assets/loading.gif";t.dispatch("setWebSocket",{ws:new URLSearchParams(window.location.hash.slice(1)).get("ws")});const a=$(!1),u=$("Hello"),s=$("v0.0.0"),n=$("Fix bugs"),v=()=>{t.commit("setYasVersion",{version:s.value}),a.value=!1},c=()=>{v(),window.open("https://ghproxy.com/https://github.com/ideless/yas-lock/releases/latest/download/yas-lock.exe","_blank")};return pl(()=>{try{}catch{}console.log("Checking for yas-lock updates..."),ml.get("https://api.github.com/repos/ideless/yas-lock/releases/latest").then(d=>{if("tag_name"in d.data){s.value=d.data.tag_name,n.value=d.data.body;let f=t.state.yas.version;if(!f)u.value="\u4F60\u53EF\u80FD\u8FD8\u6CA1\u6709\u4E0B\u8F7Dyas-lock\u3002yas-lock\u662F\u4E00\u4E2A\u8F7B\u91CFwindows\u7AEF\u5723\u9057\u7269\u5BFC\u51FA\u548C\u52A0\u89E3\u9501\u5DE5\u5177\uFF0C\u63A8\u8350\u4E0B\u8F7D\uFF01";else if(f!=d.data.tag_name)u.value=`\u4F60\u7684yas-lock\u5F53\u524D\u7248\u672C\u4E3A${f}\uFF0C\u6700\u65B0\u7248\u672C\u4E3A${d.data.tag_name}\uFF0C\u5EFA\u8BAE\u66F4\u65B0\uFF01`;else return;a.value=!0}})}),(d,f)=>{const g=ve,h=he;return y(),w(G,null,[o($l),p("div",Jo,[o(ya),o(qo)]),o(h,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=C=>a.value=C),title:"\u66F4\u65B0 yas-lock"},{default:r(()=>[p("div",Xo,[p("p",null,M(u.value),1),p("p",null,[o(g,{icon:i(ft),type:"primary",onClick:c},{default:r(()=>[K("\u4E0B\u8F7D yas-lock "+M(s.value),1)]),_:1},8,["icon"]),o(g,{onClick:v,style:{"margin-left":"10px"}},{default:r(()=>[Qo]),_:1})]),Zo,p("p",en,M(n.value),1)])]),_:1},8,["modelValue"]),o(Ne,{name:"fade"},{default:r(()=>[te(p("div",tn,[p("img",{src:e})],512),[[ae,i(t).state.loading]])]),_:1})],64)}}});fl([_l,gl,Bl,yl]);hl(ln).use(El,xt).component("v-chart",vl).mount("#app");
